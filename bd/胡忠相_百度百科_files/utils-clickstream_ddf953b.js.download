;/*!wiki-common:node_modules/@baidu/clickstream-sdk/lib/index.js*/
define("wiki-common:node_modules/@baidu/clickstream-sdk/lib/index",function(e,t,n){var r,o;r=this,o=function(L){"use strict";function M(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function m(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?M(Object(o),!0).forEach(function(e){var t,n;t=r,n=o[e=e],(e=z(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):M(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,z(r.key),r)}}function e(e,t,n){t&&B(e.prototype,t),n&&B(e,n),Object.defineProperty(e,"prototype",{writable:!1})}function z(e){e=function(e){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0===t)return String(e);t=t.call(e,"string");if("object"!=typeof t)return t;throw new TypeError("@@toPrimitive must return a primitive value.")}(e);return"symbol"==typeof e?e:String(e)}function n(e,t){return e(t={exports:{}},t.exports),t.exports}function s(e){try{return!!e()}catch(e){return!0}}function W(e){return ee?Y.createElement(e):{}}function F(e,t){if(!i(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!i(r=n.call(e)))return r;if(t||"function"!=typeof(n=e.toString)||i(r=n.call(e)))throw TypeError("Can't convert object to primitive value");return r}function U(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}function u(e,t){return oe.call(e,t)}function h(e,t,n){var r,o,i,a=e&h.F,u=e&h.G,s=e&h.P,l=e&h.B,c=u?d:e&h.S?d[t]||(d[t]={}):(d[t]||{})[ce],f=u?g:g[t]||(g[t]={}),p=f[ce]||(f[ce]={});for(r in n=u?t:n)o=((i=!a&&c&&void 0!==c[r])?c:n)[r],i=l&&i?w(o,d):s&&"function"==typeof o?w(Function.call,o):o,c&&y(c,r,o,e&h.U),f[r]!=o&&v(f,r,i),s&&p[r]!=o&&(p[r]=o)}function $(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}function l(e){return he.call(e).slice(8,-1)}function J(e){return de(ge(e))}function _(e){return 0<e?we(ye(e),9007199254740991):0}function G(e,t){return(e=ye(e))<0?be(e+t,0):xe(e,t)}function H(u){return function(e,t,n){var r,o=J(e),i=_(o.length),a=G(n,i);if(u&&t!=t){for(;a<i;)if((r=o[a++])!=r)return!0}else for(;a<i;a++)if((u||a in o)&&o[a]===t)return u||a||0;return!u&&-1}}function V(e,t){return!!e&&s(function(){t?e.call(null,function(){},1):e.call(null)})}function Z(e){return Object(ge(e))}function K(e,t){return Ee(e=e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!Ee(n.prototype)||(n=void 0),i(n)&&null===(n=n[Pe])&&(n=void 0)),new(void 0===n?Array:n)(t);var n}function X(f,e){var p=1==f,h=2==f,d=3==f,g=4==f,m=6==f,v=5==f||m,y=e||K;return function(e,t,n){for(var r,o,i=Z(e),a=de(i),u=w(t,n,3),s=_(a.length),l=0,c=p?y(e,s):h?y(e,0):void 0;l<s;l++)if((v||l in a)&&(o=u(r=a[l],l,i),f))if(p)c[l]=o;else if(o)switch(f){case 3:return!0;case 5:return r;case 6:return l;case 2:c.push(r)}else if(g)return!1;return m?-1:d||g?g:c}}function Q(e){var t;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(t=function(e,t){try{return e[t]}catch(e){}}(e=Object(e),Ae))?t:Ne?l(e):"Object"==(t=l(e))&&"function"==typeof e.callee?"Arguments":t}var d=n(function(e){e=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)}),g=n(function(e){e=e.exports={version:"2.6.12"};"number"==typeof __e&&(__e=e)}),i=(g.version,function(e){return"object"==typeof e?null!==e:"function"==typeof e}),S=function(e){if(i(e))return e;throw TypeError(e+" is not an object!")},r=!s(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),Y=d.document,ee=i(Y)&&i(Y.createElement),te=!r&&!s(function(){return 7!=Object.defineProperty(W("div"),"a",{get:function(){return 7}}).a}),ne=Object.defineProperty,re={f:r?Object.defineProperty:function(e,t,n){if(S(e),t=F(t,!0),S(n),te)try{return ne(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},v=r?function(e,t,n){return re.f(e,t,U(1,n))}:function(e,t,n){return e[t]=n,e},oe={}.hasOwnProperty,ie=0,ae=Math.random(),ue=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++ie+ae).toString(36))},se=n(function(e){var t="__core-js_shared__",n=d[t]||(d[t]={});(e.exports=function(e,t){return n[e]||(n[e]=void 0!==t?t:{})})("versions",[]).push({version:g.version,mode:"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})}),le=se("native-function-to-string",Function.toString),y=n(function(e){var i=ue("src"),t="toString",a=(""+le).split(t);g.inspectSource=function(e){return le.call(e)},(e.exports=function(e,t,n,r){var o="function"==typeof n;o&&!u(n,"name")&&v(n,"name",t),e[t]!==n&&(o&&!u(n,i)&&v(n,i,e[t]?""+e[t]:a.join(String(t))),e===d?e[t]=n:r?e[t]?e[t]=n:v(e,t,n):(delete e[t],v(e,t,n)))})(Function.prototype,t,function(){return"function"==typeof this&&this[i]||le.call(this)})}),c=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e},w=function(r,o,e){if(c(r),void 0===o)return r;switch(e){case 1:return function(e){return r.call(o,e)};case 2:return function(e,t){return r.call(o,e,t)};case 3:return function(e,t,n){return r.call(o,e,t,n)}}return function(){return r.apply(o,arguments)}},ce="prototype",o=(d.core=g,h.F=1,h.G=2,h.S=4,h.P=8,h.B=16,h.W=32,h.U=64,h.R=128,h),fe=[].slice,pe={},a=Function.bind||function(a){var u=c(this),s=fe.call(arguments,1),l=function(){var e=s.concat(fe.call(arguments));if(this instanceof l){var t=u,n=e.length,r=e;if(!(n in pe)){for(var o=[],i=0;i<n;i++)o[i]="a["+i+"]";pe[n]=Function("F,a","return new F("+o.join(",")+")")}return pe[n](t,r)}return $(u,e,a)};return i(u.prototype)&&(l.prototype=u.prototype),l},he=(o(o.P,"Function",{bind:a}),{}.toString),de=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==l(e)?e.split(""):Object(e)},ge=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e},me=Math.ceil,ve=Math.floor,ye=function(e){return isNaN(e=+e)?0:(0<e?ve:me)(e)},we=Math.min,be=Math.max,xe=Math.min,_e=H(!1),Se=[].indexOf,ke=!!Se&&1/[1].indexOf(1,-0)<0,Ee=(o(o.P+o.F*(ke||!V(Se)),"Array",{indexOf:function(e){return ke?Se.apply(this,arguments)||0:_e(this,e,arguments[1])}}),Array.isArray||function(e){return"Array"==l(e)}),f=(o(o.S,"Array",{isArray:Ee}),n(function(e){var t=se("wks"),n=d.Symbol,r="function"==typeof n;(e.exports=function(e){return t[e]||(t[e]=r&&n[e]||(r?n:ue)("Symbol."+e))}).store=t})),Pe=f("species"),Ie=X(0),a=V([].forEach,!0),Ae=(o(o.P+o.F*!a,"Array",{forEach:function(e){return Ie(this,e,arguments[1])}}),f("toStringTag")),Ne="Arguments"==l(function(){return arguments}()),a={};a[f("toStringTag")]="z",a+""!="[object z]"&&y(Object.prototype,"toString",function(){return"[object "+Q(this)+"]"},!0);function Oe(e,t){return void 0===(e=S(e).constructor)||null==(e=S(e)[Be])?t:c(e)}function Ce(){var e,t=+this;$e.hasOwnProperty(t)&&(e=$e[t],delete $e[t],e())}function Te(e){Ce.call(e.data)}var De,b={},qe=f("iterator"),je=Array.prototype,Le=f("iterator"),Me=g.getIteratorMethod=function(e){if(null!=e)return e[Le]||e["@@iterator"]||b[Q(e)]},Re=n(function(e){var f={},p={},e=e.exports=function(e,t,n,r,o){var i,a,u,s,o=o?function(){return e}:Me(e),l=w(n,r,t?2:1),c=0;if("function"!=typeof o)throw TypeError(e+" is not iterable!");if(void 0===o||b.Array!==o&&je[qe]!==o){for(u=o.call(e);!(a=u.next()).done;)if((s=function(e,t,n,r){try{return r?t(S(n)[0],n[1]):t(n)}catch(t){r=e.return;throw void 0!==r&&S(r.call(e)),t}}(u,l,a.value,t))===f||s===p)return s}else for(i=_(e.length);c<i;c++)if((s=t?l(S(a=e[c])[0],a[1]):l(e[c]))===f||s===p)return s};e.BREAK=f,e.RETURN=p}),Be=f("species"),a=d.document,ze=a&&a.documentElement,We=d.process,a=d.setImmediate,p=d.clearImmediate,x=d.MessageChannel,Fe=d.Dispatch,Ue=0,$e={},Je="onreadystatechange",x=(a&&p||(a=function(e){for(var t=[],n=1;n<arguments.length;)t.push(arguments[n++]);return $e[++Ue]=function(){$("function"==typeof e?e:Function(e),t)},De(Ue),Ue},p=function(e){delete $e[e]},"process"==l(We)?De=function(e){We.nextTick(w(Ce,e,1))}:Fe&&Fe.now?De=function(e){Fe.now(w(Ce,e,1))}:x?(He=(x=new x).port2,x.port1.onmessage=Te,De=w(He.postMessage,He,1)):d.addEventListener&&"function"==typeof postMessage&&!d.importScripts?(De=function(e){d.postMessage(e+"","*")},d.addEventListener("message",Te,!1)):De=Je in W("script")?function(e){ze.appendChild(W("script"))[Je]=function(){ze.removeChild(this),Ce.call(e)}}:function(e){setTimeout(w(Ce,e,1),0)}),{set:a,clear:p}),Ge=x.set,He=d.MutationObserver||d.WebKitMutationObserver,Ve=d.process,a=d.Promise,Ze="process"==l(Ve);function Ke(e){var n,r;this.promise=new e(function(e,t){if(void 0!==n||void 0!==r)throw TypeError("Bad Promise constructor");n=e,r=t}),this.resolve=c(n),this.reject=c(r)}function Xe(e,t,n){e&&!u(e=n?e:e.prototype,rt)&&nt(e,rt,{configurable:!0,value:t})}function Qe(e){e=d[e],r&&e&&!e[ot]&&re.f(e,ot,{configurable:!0,get:function(){return this}})}var Ye={f:function(e){return new Ke(e)}},et=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}},p=d.navigator,tt=p&&p.userAgent||"",nt=re.f,rt=f("toStringTag"),ot=f("species"),it=f("iterator"),at=!1;try{var ut=[7][it]();ut.return=function(){at=!0},Array.from(ut,function(){throw 2})}catch(L){}function st(){}var lt,ct,ft,pt,ht,dt,gt,mt,vt,yt,wt=x.set,bt=(mt=Ze?function(){Ve.nextTick(Ct)}:!He||d.navigator&&d.navigator.standalone?a&&a.resolve?(gt=a.resolve(void 0),function(){gt.then(Ct)}):function(){Ge.call(d,Ct)}:(vt=!0,yt=document.createTextNode(""),new He(Ct).observe(yt,{characterData:!0}),function(){yt.data=vt=!vt}),function(e){e={fn:e,next:void 0};dt&&(dt.next=e),ht||(ht=e,mt()),dt=e}),p="Promise",xt=d.TypeError,_t=d.process,ut=_t&&_t.versions,St=ut&&ut.v8||"",k=d[p],kt="process"==Q(_t),Et=ct=Ye.f,x=!!function(){try{var e=k.resolve(1),t=(e.constructor={})[f("species")]=function(e){e(st,st)};return(kt||"function"==typeof PromiseRejectionEvent)&&e.then(st)instanceof t&&0!==St.indexOf("6.6")&&-1===tt.indexOf("Chrome/66")}catch(e){}}(),Pt=function(e){var t;return!(!i(e)||"function"!=typeof(t=e.then))&&t},It=function(f,n){var r;f._n||(f._n=!0,r=f._c,bt(function(){for(var o,l=f._v,c=1==f._s,e=0,t=function(e){var t,n,r,o,i=c?e.ok:e.fail,a=e.resolve,u=e.reject,s=e.domain;try{i?(c||(2==f._h&&(o=f,wt.call(d,function(){var e;kt?_t.emit("rejectionHandled",o):(e=d.onrejectionhandled)&&e({promise:o,reason:o._v})})),f._h=1),!0===i?t=l:(s&&s.enter(),t=i(l),s&&(s.exit(),r=!0)),t===e.promise?u(xt("Promise-chain cycle")):(n=Pt(t))?n.call(t,a,u):a(t)):u(l)}catch(e){s&&!r&&s.exit(),u(e)}};r.length>e;)t(r[e++]);f._c=[],f._n=!1,n&&!f._h&&(o=f,wt.call(d,function(){var e,t,n=o._v,r=At(o);if(r&&(e=et(function(){kt?_t.emit("unhandledRejection",n,o):(t=d.onunhandledrejection)?t({promise:o,reason:n}):(t=d.console)&&t.error&&t.error("Unhandled promise rejection",n)}),o._h=kt||At(o)?2:1),o._a=void 0,r&&e.e)throw e.v}))}))},At=function(e){return 1!==e._h&&0===(e._a||e._c).length},Nt=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),It(t,!0))},Ot=function(e){var n,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===e)throw xt("Promise can't be resolved itself");(n=Pt(e))?bt(function(){var t={_w:r,_d:!1};try{n.call(e,w(Ot,t,1),w(Nt,t,1))}catch(e){Nt.call(t,e)}}):(r._v=e,r._s=1,It(r,!1))}catch(e){Nt.call({_w:r,_d:!1},e)}}};function Ct(){var e,t;for(Ze&&(e=Ve.domain)&&e.exit();ht;){t=ht.fn,ht=ht.next;try{t()}catch(e){throw ht?mt():dt=void 0,e}}dt=void 0,e&&e.enter()}x||(k=function(e){var t=this;if(!(t instanceof k)||"_h"in t)throw TypeError("Promise: incorrect invocation!");c(e),lt.call(this);try{e(w(Ot,this,1),w(Nt,this,1))}catch(e){Nt.call(this,e)}},(lt=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=function(e,t){for(var n in t)y(e,n,t[n],void 0);return e}(k.prototype,{then:function(e,t){var n=Et(Oe(this,k));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=kt?_t.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&It(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),ft=function(){var e=new lt;this.promise=e,this.resolve=w(Ot,e,1),this.reject=w(Nt,e,1)},Ye.f=Et=function(e){return e===k||e===pt?new ft:ct(e)}),o(o.G+o.W+o.F*!x,{Promise:k}),Xe(k,p),Qe(p),pt=g[p],o(o.S+o.F*!x,p,{reject:function(e){var t=Et(this);return(0,t.reject)(e),t.promise}}),o(o.S+o.F*!x,p,{resolve:function(e){var t=this;return S(t),i(e)&&e.constructor===t?e:((0,(t=Ye.f(t)).resolve)(e),t.promise)}}),o(o.S+o.F*!(x&&function(){if(at){var e=!1;try{var t=[7],n=t[it]();n.next=function(){return{done:e=!0}},t[it]=function(){return n},k.all(t).catch(st)}catch(e){}return e}}()),p,{all:function(e){var a=this,t=Et(a),u=t.resolve,s=t.reject,n=et(function(){var r=[],o=0,i=1;Re(e,!1,function(e){var t=o++,n=!1;r.push(void 0),i++,a.resolve(e).then(function(e){n||(n=!0,r[t]=e,--i||u(r))},s)}),--i||u(r)});return n.e&&s(n.v),t.promise},race:function(e){var t=this,n=Et(t),r=n.reject,o=et(function(){Re(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return o.e&&r(o.v),n.promise}});e(Dt,[{key:"reconnect",value:function(){var e=this;this.lockReconnect||this.curReconnect>=this.maxReconnect||(this.curReconnect++,this.closeCallback&&this.closeCallback(),this.lockReconnect=!0,this.reTimeId&&clearTimeout(this.reTimeId),this.reTimeId=setTimeout(function(){e.initWebsocket(e.openData),e.lockReconnect=!1},this.config.reconnectInterval))}},{key:"initWebsocket",value:function(e,t,n,r,o){var i=this,t=(this.openData=e,t&&(this.openCallback=t),n&&(this.closeCallback=n),r&&(this.resolveAuto=r),this.config.url);this.ws=new WebSocket(t),this.ws.onerror=function(){i.closeCallback(),o&&console.warn("websocket服务出错了"),i.reconnect()},this.ws.onclose=function(){i.closeCallback(),o&&console.warn("websocket服务关闭了"),i.reconnect()},this.ws.onopen=function(){i.openCallback(),i.logWsConfig(e,o),i.heartCheck.start()},this.ws.onmessage=function(e){i.heartCheck.start();e=e.data&&JSON.parse(e.data).data;e&&0<e.length&&i.resolveAuto(e)}}},{key:"logWebsocket",value:function(e,t){this.ws&&1===this.ws.readyState?this.ws.send(e):t&&console.warn("ws未连接，无法发送数据")}},{key:"logWsConfig",value:function(e,t){this.logWebsocket(e,t)}}]);var Tt=Dt;function Dt(e){t(this,Dt),this.maxReconnect=3,this.curReconnect=0,this.openData={},this.config=e.websocket,this.ws=null,this.lockReconnect=!1,this.reTimeId,this.openCallback=null,this.closeCallback=null,this.resolveAuto=null,this.heartCheck={timeout:this.config.heartInterval,timeoutId:null,serverTimeoutId:null,current:this,start:function(){var e=this;this.timeoutId&&clearTimeout(this.timeoutId),this.serverTimeoutId&&clearTimeout(this.serverTimeoutId),this.timeoutId=setTimeout(function(){1===e.current.ws.readyState&&e.current.ws.send("heartCheck"),e.serverTimeoutId=setTimeout(function(){e.current.ws.close()},e.timeout)},this.timeout)}}}function qt(e,t,n){var r,o,i,a,u,s,l,c;e.getconfig?(i=(i={url:"https://cstm.baidu.com/log/getconf",data:e,success:function(e){n&&n(e.data||[])},error:function(e){console.log("获取自动打点流配置失败",e)}})||{}).url?(a="jsonp_"+Math.ceil(1e4*Math.random()),u=document.getElementsByTagName("head")[0],i.data.callback=a,s=function(e){var t,n=[];for(t in e)n.push(encodeURIComponent(t)+"="+encodeURIComponent(e[t]));return n.join("&")}(i.data),l=document.createElement("script"),c=null,u.appendChild(l),window[a]=function(e){c&&clearTimeout(c),window[a]=null,i.success&&i.success(e)},l.src=i.url+"?"+s,i.time&&(c=setTimeout(function(){window[a]=null,u.removeChild(l),i.error&&i.error({message:"超时"})},i.time))):console.warn("jsonp参数不合法"):(s=t+"?params="+encodeURIComponent(e),r=window.page||{},o="httplog_"+(new Date).getTime(),(t=r[o]=new Image).onload=t.onerror=function(){r[o]=null},t.src=s)}function jt(e){$t[Ut][e]=!0}function Lt(e,t){return{value:t,done:!!e}}function Mt(e){return Jt[e]||(Jt[e]=ue(e))}function Rt(e,t){var n,r=J(e),o=0,i=[];for(n in r)n!=Ht&&u(r,n)&&i.push(n);for(;t.length>o;)!u(r,n=t[o++])||~Gt(i,n)||i.push(n);return i}function Bt(){}function zt(){return this}var Wt,E,Ft,Ut=f("unscopables"),$t=Array.prototype,Jt=(null==$t[Ut]&&v($t,Ut,{}),se("keys")),Gt=H(!1),Ht=Mt("IE_PROTO"),Vt="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),Zt=Object.keys||function(e){return Rt(e,Vt)},Kt=r?Object.defineProperties:function(e,t){S(e);for(var n,r=Zt(t),o=r.length,i=0;i<o;)re.f(e,n=r[i++],t[n]);return e},Xt=Mt("IE_PROTO"),Qt="prototype",Yt=function(){var e=W("iframe"),t=Vt.length;for(e.style.display="none",ze.appendChild(e),e.src="javascript:",(e=e.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),Yt=e.F;t--;)delete Yt[Qt][Vt[t]];return Yt()},a=Object.create||function(e,t){var n;return null!==e?(Bt[Qt]=S(e),n=new Bt,Bt[Qt]=null,n[Xt]=e):n=Yt(),void 0===t?n:Kt(n,t)},ut={},en=(v(ut,f("iterator"),function(){return this}),Mt("IE_PROTO")),tn=Object.prototype,x=Object.getPrototypeOf||function(e){return e=Z(e),u(e,en)?e[en]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?tn:null},p=f("iterator"),nn=!([].keys&&"next"in[].keys()),rn="values",on=(q=Array,O="values",T=sr="Array",(A=Wt=function(e,t){this._t=J(e),this._i=0,this._k=t}).prototype=a(ut,{next:U(1,function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,Lt(1)):Lt(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])})}),Xe(A,T+" Iterator"),A=sr+" Iterator",T=!1,E=q.prototype,Ft=E[p]||E["@@iterator"]||E[O],O=Ft||an(O),a=an("entries"),(j=E.entries||Ft)&&(j=x(j.call(new q)))!==Object.prototype&&j.next&&(Xe(j,A,!0),"function"!=typeof j[p]&&v(j,p,zt)),Ft&&Ft.name!==rn&&(T=!0,O=function(){return Ft.call(this)}),!nn&&!T&&E[p]||v(E,p,O),b[sr]=O,b[A]=zt,q={values:O,keys:an("keys"),entries:a},o(o.P+o.F*(nn||T),sr,q),q);function an(e){if(!nn&&e in E)return E[e];switch(e){case"keys":case rn:return function(){return new Wt(this,e)}}return function(){return new Wt(this,e)}}b.Arguments=b.Array,jt("keys"),jt("values"),jt("entries");for(var un=f("iterator"),sn=f("toStringTag"),ln=b.Array,cn={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},fn=Zt(cn),pn=0;pn<fn.length;pn++){var hn,dn=fn[pn],gn=cn[dn],mn=d[dn],vn=mn&&mn.prototype;if(vn&&(vn[un]||v(vn,un,ln),vn[sn]||v(vn,sn,dn),b[dn]=ln,gn))for(hn in on)vn[hn]||y(vn,hn,on[hn],!0)}function P(e){if("string"==typeof e||"number"==typeof e||"boolean"==typeof e||"function"==typeof e||void 0===e||null==e)t=e;else if(Array.isArray(e))for(var t=[],n=0;n<e.length;n++)t[n]=P(e[n]);else if("object"===R(e))for(var r in t={},e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=P(e[r]));else t=e;return t}function I(e){return"[object Object]"===Object.prototype.toString.call(e)}function yn(e){for(var t in e)Array.isArray(e[t])||I(e[t])?e[t]=yn(e[t]):e[t]=String(e[t]);return JSON.stringify(e)}function wn(e){var t;return i(e)&&(void 0!==(t=e[En])?!!t:"RegExp"==l(e))}function bn(e,t,n){return t+(n?Pn(e,t).length:1)}function xn(e,t){var n=e.exec;if("function"==typeof n){n=n.call(e,t);if("object"!=typeof n)throw new TypeError("RegExp exec method returned something other than an Object or null");return n}if("RegExp"!==Q(e))throw new TypeError("RegExp#exec called on incompatible receiver");return In.call(e,t)}function _n(){var e=S(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}var Sn=["appname","timestamp","sv","av","trace","sample","page_id"],kn=(e(Dn,[{key:"getBaseParam",value:function(){return this.baseParam}},{key:"setBaseParam",value:function(e,t){if(I(e))for(var n in e)-1<Sn.indexOf(n)&&(this.baseParam[n]=e[n]);else t&&console.warn("设置基础字段参数不是object")}}]),Dn),En=f("match"),Pn=function(e,t){var n,e=String(ge(e)),t=ye(t),r=e.length;return t<0||r<=t?"":(n=e.charCodeAt(t))<55296||56319<n||t+1===r||(n=e.charCodeAt(t+1))<56320||57343<n?e.charAt(t):e.slice(t,t+2)},In=RegExp.prototype.exec,An=RegExp.prototype.exec,Nn=String.prototype.replace,x=An,On="lastIndex",Cn=(j=/a/,p=/b*/g,An.call(j,"a"),An.call(p,"a"),0!==j[On]||0!==p[On]),Tn=void 0!==/()??/.exec("")[1];function Dn(){t(this,Dn),this.baseParam={sv:"v1.0.1",av:"1.0.0"}}function qn(n,e,t){var i,r,o=f(n),a=!s(function(){var e={};return e[o]=function(){return 7},7!=""[n](e)}),u=a?!s(function(){var e=!1,t=/a/;return t.exec=function(){return e=!0,null},"split"===n&&(t.constructor={},t.constructor[Rn]=function(){return t}),t[o](""),!e}):void 0;a&&u&&("replace"!==n||Bn)&&("split"!==n||zn)||(i=/./[o],t=(u=t(ge,o,""[n],function(e,t,n,r,o){return t.exec===Mn?a&&!o?{done:!0,value:i.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}))[0],r=u[1],y(String.prototype,n,t),v(RegExp.prototype,o,2==e?function(e,t){return r.call(e,this,t)}:function(e){return r.call(e,this)}))}function jn(e,t){if(S(e),!i(t)&&null!==t)throw TypeError(t+": can't set as prototype!")}var A,Ln,Mn=x=Cn||Tn?function(e){var t,n,r,o,i=this;return Tn&&(n=new RegExp("^"+i.source+"$(?!\\s)",_n.call(i))),Cn&&(t=i[On]),r=An.call(i,e),Cn&&r&&(i[On]=i.global?r.index+r[0].length:t),Tn&&r&&1<r.length&&Nn.call(r[0],n,function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)}),r}:x,Rn=(o({target:"RegExp",proto:!0,forced:Mn!==/./.exec},{exec:Mn}),f("species")),Bn=!s(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}),zn=(Ln=(A=/(?:)/).exec,A.exec=function(){return Ln.apply(this,arguments)},2===(A="ab".split(A)).length&&"a"===A[0]&&"b"===A[1]),Wn=Math.min,Fn=[].push,Un="split",N="length",$n="lastIndex",Jn=4294967295,Gn=!s(function(){RegExp(Jn,"y")}),Hn=(qn("split",2,function(o,i,d,g){var m="c"=="abbc"[Un](/(b)*/)[1]||4!="test"[Un](/(?:)/,-1)[N]||2!="ab"[Un](/(?:ab)*/)[N]||4!="."[Un](/(.?)(.?)/)[N]||1<"."[Un](/()()/)[N]||""[Un](/.?/)[N]?function(e,t){var n=String(this);if(void 0===e&&0===t)return[];if(!wn(e))return d.call(n,e,t);for(var r,o,i,a=[],u=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),s=0,l=void 0===t?Jn:t>>>0,c=new RegExp(e.source,u+"g");(r=Mn.call(c,n))&&!((o=c[$n])>s&&(a.push(n.slice(s,r.index)),1<r[N]&&r.index<n[N]&&Fn.apply(a,r.slice(1)),i=r[0][N],s=o,a[N]>=l));)c[$n]===r.index&&c[$n]++;return s===n[N]?!i&&c.test("")||a.push(""):a.push(n.slice(s)),a[N]>l?a.slice(0,l):a}:"0"[Un](void 0,0)[N]?function(e,t){return void 0===e&&0===t?[]:d.call(this,e,t)}:d;return[function(e,t){var n=o(this),r=null==e?void 0:e[i];return void 0!==r?r.call(e,n,t):m.call(String(n),e,t)},function(e,t){var n=g(m,e,this,t,m!==d);if(n.done)return n.value;var n=S(e),r=String(this),e=Oe(n,RegExp),o=n.unicode,i=(n.ignoreCase?"i":"")+(n.multiline?"m":"")+(n.unicode?"u":"")+(Gn?"y":"g"),a=new e(Gn?n:"^(?:"+n.source+")",i),u=void 0===t?Jn:t>>>0;if(0==u)return[];if(0===r.length)return null===xn(a,r)?[r]:[];for(var s=0,l=0,c=[];l<r.length;){a.lastIndex=Gn?l:0;var f,p=xn(a,Gn?r:r.slice(l));if(null===p||(f=Wn(_(a.lastIndex+(Gn?0:l)),r.length))===s)l=bn(r,l,o);else{if(c.push(r.slice(s,l)),c.length===u)return c;for(var h=1;h<=p.length-1;h++)if(c.push(p[h]),c.length===u)return c;l=s=f}}return c.push(r.slice(s)),c}]}),{f:{}.propertyIsEnumerable}),Vn=Object.getOwnPropertyDescriptor,Zn={f:r?Vn:function(e,t){if(e=J(e),t=F(t,!0),te)try{return Vn(e,t)}catch(e){}if(u(e,t))return U(!Hn.f.call(e,t),e[t])}},Kn={set:Object.setPrototypeOf||("__proto__"in{}?function(e,n,r){try{(r=w(Function.call,Zn.f(Object.prototype,"__proto__").set,2))(e,[]),n=!(e instanceof Array)}catch(e){n=!0}return function(e,t){return jn(e,t),n?e.__proto__=t:r(e,t),e}}({},!1):void 0),check:jn}.set,Xn=Vt.concat("length","prototype"),O={f:Object.getOwnPropertyNames||function(e){return Rt(e,Xn)}},Qn=re.f,a=O.f,Yn=C=d.RegExp,er=C.prototype,tr=/a/g,nr=/a/g,rr=new C(tr)!==tr;if(r&&(!rr||s(function(){return nr[f("match")]=!1,C(tr)!=tr||C(nr)==nr||"/a/i"!=C(tr,"i")}))){for(var C=function(e,t){var n=this instanceof C,r=wn(e),o=void 0===t;return!n&&r&&e.constructor===C&&o?e:(r=rr?new Yn(r&&!o?e.source:e,t):Yn((r=e instanceof C)?e.source:e,r&&o?_n.call(e):t),o=C,(e=(n?this:er).constructor)!==o&&"function"==typeof e&&(t=e.prototype)!==o.prototype&&i(t)&&Kn&&Kn(r,t),r)},or=a(Yn),ir=0;or.length>ir;)!function(t){t in C||Qn(C,t,{configurable:!0,get:function(){return Yn[t]},set:function(e){Yn[t]=e}})}(or[ir++]);(er.constructor=C).prototype=er,y(d,"RegExp",C)}Qe("RegExp"),qn("match",1,function(r,o,s,l){return[function(e){var t=r(this),n=null==e?void 0:e[o];return void 0!==n?n.call(e,t):new RegExp(e)[o](String(t))},function(e){var t=l(s,e,this);if(t.done)return t.value;var n=S(e),r=String(this);if(!n.global)return xn(n,r);for(var o=n.unicode,i=[],a=n.lastIndex=0;null!==(u=xn(n,r));){var u=String(u[0]);""===(i[a]=u)&&(n.lastIndex=bn(r,_(n.lastIndex),o)),a++}return 0===a?null:i}]});function ar(e){y(RegExp.prototype,fr,e,!0)}var T=Date.prototype,ur="Invalid Date",sr="toString",lr=T[sr],cr=T.getTime,fr=(new Date(NaN)+""!=ur&&y(T,sr,function(){var e=cr.call(this);return e==e?lr.call(this):ur}),r&&"g"!=/./g.flags&&re.f(RegExp.prototype,"flags",{configurable:!0,get:_n}),"toString"),pr=/./[fr],hr=(s(function(){return"/a/b"!=pr.call({source:"a",flags:"b"})})?ar(function(){var e=S(this);return"/".concat(e.source,"/","flags"in e?e.flags:!r&&e instanceof RegExp?_n.call(e):void 0)}):pr.name!=fr&&ar(function(){return pr.call(this)}),[].slice);function dr(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}o(o.P+o.F*s(function(){ze&&hr.call(ze)}),"Array",{slice:function(e,t){var n=_(this.length),r=l(this);if(t=void 0===t?n:t,"Array"==r)return hr.call(this,e,t);for(var o=G(e,n),e=G(t,n),i=_(e-o),a=new Array(i),u=0;u<i;u++)a[u]="String"==r?this.charAt(o+u):this[o+u];return a}});var gr=n(function(e){var V=function(u){var v=1e7,t=9007199254740992,n=g(t),f="0123456789abcdefghijklmnopqrstuvwxyz",s="function"==typeof BigInt;function l(e,t,n,r){return void 0===e?l[0]:void 0===t||10==+t&&!n?j(e):$(e,t,n,r)}function c(e,t){this.value=e,this.sign=t,this.isSmall=!1}function p(e){this.value=e,this.sign=e<0,this.isSmall=!0}function h(e){this.value=e}function d(e){return-t<e&&e<t}function g(e){return e<1e7?[e]:e<1e14?[e%1e7,Math.floor(e/1e7)]:[e%1e7,Math.floor(e/1e7)%1e7,Math.floor(e/1e14)]}function y(e){m(e);var t=e.length;if(t<4&&I(e,n)<0)switch(t){case 0:return 0;case 1:return e[0];case 2:return e[0]+e[1]*v;default:return e[0]+(e[1]+e[2]*v)*v}return e}function m(e){for(var t=e.length;0===e[--t];);e.length=t+1}function w(e){for(var t=new Array(e),n=-1;++n<e;)t[n]=0;return t}function b(e){return 0<e?Math.floor(e):Math.ceil(e)}function r(e,t){for(var n,r=e.length,o=t.length,i=new Array(r),a=0,u=v,s=0;s<o;s++)a=(n=e[s]+t[s]+a)>=u?1:0,i[s]=n-a*u;for(;s<r;)a=(n=e[s]+a)===u?1:0,i[s++]=n-a*u;return 0<a&&i.push(a),i}function x(e,t){return e.length>=t.length?r(e,t):r(t,e)}function o(e,t){for(var n,r=e.length,o=new Array(r),i=v,a=0;a<r;a++)n=e[a]-i+t,t=Math.floor(n/i),o[a]=n-t*i,t+=1;for(;0<t;)o[a++]=t%i,t=Math.floor(t/i);return o}function _(e,t){for(var n,r=e.length,o=t.length,i=new Array(r),a=0,u=v,s=0;s<o;s++)a=(n=e[s]-a-t[s])<0?(n+=u,1):0,i[s]=n;for(s=o;s<r;s++){if(!((n=e[s]-a)<0)){i[s++]=n;break}n+=u,i[s]=n}for(;s<r;s++)i[s]=e[s];return m(i),i}function i(e,t,n){for(var r,o=e.length,i=new Array(o),a=-t,u=v,s=0;s<o;s++)r=e[s]+a,a=Math.floor(r/u),i[s]=(r%=u)<0?r+u:r;return"number"==typeof(i=y(i))?new p(i=n?-i:i):new c(i,n)}function S(e,t){for(var n,r,o=e.length,i=t.length,a=w(o+i),u=v,s=0;s<o;++s)for(var l=e[s],c=0;c<i;++c)n=l*t[c]+a[s+c],r=Math.floor(n/u),a[s+c]=n-r*u,a[s+c+1]+=r;return m(a),a}function k(e,t){for(var n,r=e.length,o=new Array(r),i=v,a=0,u=0;u<r;u++)n=e[u]*t+a,a=Math.floor(n/i),o[u]=n-a*i;for(;0<a;)o[u++]=a%i,a=Math.floor(a/i);return o}function E(e,t){for(var n=[];0<t--;)n.push(0);return n.concat(e)}function L(e,t,n){return new c(e<v?k(t,e):S(t,g(e)),n)}function M(e){for(var t,n,r=e.length,o=w(r+r),i=v,a=0;a<r;a++){for(var u=0-(n=e[a])*n,s=a;s<r;s++)t=n*e[s]*2+o[a+s]+u,u=Math.floor(t/i),o[a+s]=t-u*i;o[a+r]=u}return m(o),o}function R(e,t){for(var n,r=e.length,o=w(r),i=0,a=r-1;0<=a;--a)i=(n=1e7*i+e[a])-(n=b(n/t))*t,o[a]=0|n;return[o,0|i]}function P(e,t){var n,t=j(t);if(s)return[new h(e.value/t.value),new h(e.value%t.value)];var r=e.value,o=t.value;if(0===o)throw new Error("Cannot divide by zero");if(e.isSmall)return t.isSmall?[new p(b(r/o)),new p(r%o)]:[l[0],e];if(t.isSmall){if(1===o)return[e,l[0]];if(-1==o)return[e.negate(),l[0]];var i,a=Math.abs(o);if(a<v)return i=y((n=R(r,a))[0]),u=n[1],e.sign&&(u=-u),"number"==typeof i?[new p(i=e.sign!==t.sign?-i:i),new p(u)]:[new c(i,e.sign!==t.sign),new p(u)];o=g(a)}var u=I(r,o);if(-1===u)return[l[0],e];if(0===u)return[l[e.sign===t.sign?1:-1],l[0]];i=(n=(r.length+o.length<=200?function(e,t){var n,r,o,i,a,u,s,l=e.length,c=t.length,f=v,p=w(t.length),h=t[c-1],d=Math.ceil(f/(2*h)),g=k(e,d),m=k(t,d);for(g.length<=l&&g.push(0),m.push(0),h=m[c-1],r=l-c;0<=r;r--){for(n=f-1,g[r+c]!==h&&(n=Math.floor((g[r+c]*f+g[r+c-1])/h)),u=m.length,a=i=o=0;a<u;a++)o+=n*m[a],s=Math.floor(o/f),i+=g[r+a]-(o-s*f),o=s,i=i<0?(g[r+a]=i+f,-1):(g[r+a]=i,0);for(;0!==i;){for(--n,a=o=0;a<u;a++)o=(o+=g[r+a]-f+m[a])<0?(g[r+a]=o+f,0):(g[r+a]=o,1);i+=o}p[r]=n}return g=R(g,d)[0],[y(p),y(g)]}:function(e,t){for(var n,r,o,i,a,u=e.length,s=t.length,l=[],c=[],f=v;u;)if(c.unshift(e[--u]),m(c),I(c,t)<0)l.push(0);else{for(o=c[(r=c.length)-1]*f+c[r-2],i=t[s-1]*f+t[s-2],s<r&&(o=(o+1)*f),n=Math.ceil(o/i);!(I(a=k(t,n),c)<=0)&&--n;);l.push(n),c=_(c,a)}return l.reverse(),[y(l),y(c)]})(r,o))[0];a=e.sign!==t.sign,u=n[1],r=e.sign;return[i="number"==typeof i?new p(i=a?-i:i):new c(i,a),u="number"==typeof u?new p(u=r?-u:u):new c(u,r)]}function I(e,t){if(e.length!==t.length)return e.length>t.length?1:-1;for(var n=e.length-1;0<=n;n--)if(e[n]!==t[n])return e[n]>t[n]?1:-1;return 0}function B(e){e=e.abs();return!e.isUnit()&&(!!(e.equals(2)||e.equals(3)||e.equals(5))||!(e.isEven()||e.isDivisibleBy(3)||e.isDivisibleBy(5))&&(!!e.lesser(49)||void 0))}function A(e,t){for(var n,r,o,i=e.prev(),a=i,u=0;a.isEven();)a=a.divide(2),u++;e:for(r=0;r<t.length;r++)if(!e.lesser(t[r])&&!(o=V(t[r]).modPow(a,e)).isUnit()&&!o.equals(i)){for(n=u-1;0!=n;n--){if((o=o.square().mod(e)).isUnit())return!1;if(o.equals(i))continue e}return!1}return!0}c.prototype=Object.create(l.prototype),p.prototype=Object.create(l.prototype),h.prototype=Object.create(l.prototype),c.prototype.plus=c.prototype.add=function(e){e=j(e);if(this.sign!==e.sign)return this.subtract(e.negate());var t=this.value,n=e.value;return e.isSmall?new c(o(t,Math.abs(n)),this.sign):new c(x(t,n),this.sign)},p.prototype.plus=p.prototype.add=function(e){var e=j(e),t=this.value;if(t<0!==e.sign)return this.subtract(e.negate());var n=e.value;if(e.isSmall){if(d(t+n))return new p(t+n);n=g(Math.abs(n))}return new c(o(n,Math.abs(t)),t<0)},h.prototype.plus=h.prototype.add=function(e){return new h(this.value+j(e).value)},c.prototype.minus=c.prototype.subtract=function(e){e=j(e);if(this.sign!==e.sign)return this.add(e.negate());var t,n=this.value,r=e.value;return e.isSmall?i(n,Math.abs(r),this.sign):(e=n,n=r,r=this.sign,0<=I(e,n)?t=_(e,n):(t=_(n,e),r=!r),"number"==typeof(t=y(t))?new p(t=r?-t:t):new c(t,r))},p.prototype.minus=p.prototype.subtract=function(e){var e=j(e),t=this.value;if(t<0!==e.sign)return this.add(e.negate());var n=e.value;return e.isSmall?new p(t-n):i(n,Math.abs(t),0<=t)},h.prototype.minus=h.prototype.subtract=function(e){return new h(this.value-j(e).value)},c.prototype.negate=function(){return new c(this.value,!this.sign)},p.prototype.negate=function(){var e=this.sign,t=new p(-this.value);return t.sign=!e,t},h.prototype.negate=function(){return new h(-this.value)},c.prototype.abs=function(){return new c(this.value,!1)},p.prototype.abs=function(){return new p(Math.abs(this.value))},h.prototype.abs=function(){return new h(0<=this.value?this.value:-this.value)},c.prototype.times=c.prototype.multiply=function(e){var t,e=j(e),n=this.value,r=e.value,o=this.sign!==e.sign;if(e.isSmall){if(0===r)return l[0];if(1===r)return this;if(-1===r)return this.negate();if((e=Math.abs(r))<v)return new c(k(n,e),o);r=g(e)}return new c((0<-.012*(e=n.length)-.012*(t=r.length)+15e-6*e*t?function e(t,n){if((r=Math.max(t.length,n.length))<=30)return S(t,n);var r=Math.ceil(r/2),o=t.slice(r),t=t.slice(0,r),i=n.slice(r),n=n.slice(0,r),a=e(t,n),u=e(o,i),t=e(x(t,o),x(n,i)),o=x(x(a,E(_(_(t,a),u),r)),E(u,2*r));return m(o),o}:S)(n,r),o)},p.prototype._multiplyBySmall=function(e){return d(e.value*this.value)?new p(e.value*this.value):L(Math.abs(e.value),g(Math.abs(this.value)),this.sign!==e.sign)},c.prototype._multiplyBySmall=function(e){return 0===e.value?l[0]:1===e.value?this:-1===e.value?this.negate():L(Math.abs(e.value),this.value,this.sign!==e.sign)},p.prototype.times=p.prototype.multiply=function(e){return j(e)._multiplyBySmall(this)},h.prototype.times=h.prototype.multiply=function(e){return new h(this.value*j(e).value)},c.prototype.square=function(){return new c(M(this.value),!1)},p.prototype.square=function(){var e=this.value*this.value;return d(e)?new p(e):new c(M(g(Math.abs(this.value))),!1)},h.prototype.square=function(e){return new h(this.value*this.value)},h.prototype.divmod=p.prototype.divmod=c.prototype.divmod=function(e){e=P(this,e);return{quotient:e[0],remainder:e[1]}},c.prototype.divide=function(e){return P(this,e)[0]},h.prototype.over=h.prototype.divide=function(e){return new h(this.value/j(e).value)},p.prototype.over=p.prototype.divide=c.prototype.over=c.prototype.divide,c.prototype.mod=function(e){return P(this,e)[1]},h.prototype.mod=h.prototype.remainder=function(e){return new h(this.value%j(e).value)},p.prototype.remainder=p.prototype.mod=c.prototype.remainder=c.prototype.mod,p.prototype.pow=c.prototype.pow=function(e){var t,n,e=j(e),r=this.value,o=e.value;if(0===o)return l[1];if(0===r)return l[0];if(1===r)return l[1];if(-1===r)return e.isEven()?l[1]:l[-1];if(e.sign)return l[0];if(!e.isSmall)throw new Error("The exponent "+e.toString()+" is too large.");if(this.isSmall&&d(e=Math.pow(r,o)))return new p(b(e));for(t=this,n=l[1];!0&o&&(n=n.times(t),--o),0!==o;)o/=2,t=t.square();return n},h.prototype.pow=function(e){var e=j(e),t=this.value,n=e.value,r=BigInt(0),o=BigInt(1),i=BigInt(2);if(n===r)return l[1];if(t===r)return l[0];if(t===o)return l[1];if(t===BigInt(-1))return e.isEven()?l[1]:l[-1];if(e.isNegative())return new h(r);for(var a=this,u=l[1];(n&o)===o&&(u=u.times(a),--n),n!==r;)n/=i,a=a.square();return u},h.prototype.modPow=p.prototype.modPow=c.prototype.modPow=function(e,t){if(e=j(e),(t=j(t)).isZero())throw new Error("Cannot take modPow with modulus 0");var n=l[1],r=this.mod(t);for(e.isNegative()&&(e=e.multiply(l[-1]),r=r.modInv(t));e.isPositive();){if(r.isZero())return l[0];e.isOdd()&&(n=n.multiply(r).mod(t)),e=e.divide(2),r=r.square().mod(t)}return n},c.prototype.compareAbs=function(e){var e=j(e),t=this.value,n=e.value;return e.isSmall?1:I(t,n)},p.prototype.compareAbs=function(e){var e=j(e),t=Math.abs(this.value),n=e.value;return e.isSmall?t===(n=Math.abs(n))?0:n<t?1:-1:-1},h.prototype.compareAbs=function(e){var t=this.value,e=j(e).value;return(t=0<=t?t:-t)===(e=0<=e?e:-e)?0:e<t?1:-1},c.prototype.compareTo=c.prototype.compare=function(e){if(e===1/0)return-1;if(e===-1/0)return 1;var e=j(e),t=this.value,n=e.value;return this.sign!==e.sign?e.sign?1:-1:e.isSmall?this.sign?-1:1:I(t,n)*(this.sign?-1:1)},p.prototype.compareTo=p.prototype.compare=function(e){if(e===1/0)return-1;if(e===-1/0)return 1;var e=j(e),t=this.value,n=e.value;return e.isSmall?t==n?0:n<t?1:-1:t<0!==e.sign?t<0?-1:1:t<0?1:-1},h.prototype.compareTo=h.prototype.compare=function(e){if(e===1/0)return-1;if(e===-1/0)return 1;var t=this.value,e=j(e).value;return t===e?0:e<t?1:-1},h.prototype.eq=h.prototype.equals=p.prototype.eq=p.prototype.equals=c.prototype.eq=c.prototype.equals=function(e){return 0===this.compare(e)},h.prototype.neq=h.prototype.notEquals=p.prototype.neq=p.prototype.notEquals=c.prototype.neq=c.prototype.notEquals=function(e){return 0!==this.compare(e)},h.prototype.gt=h.prototype.greater=p.prototype.gt=p.prototype.greater=c.prototype.gt=c.prototype.greater=function(e){return 0<this.compare(e)},h.prototype.lt=h.prototype.lesser=p.prototype.lt=p.prototype.lesser=c.prototype.lt=c.prototype.lesser=function(e){return this.compare(e)<0},h.prototype.geq=h.prototype.greaterOrEquals=p.prototype.geq=p.prototype.greaterOrEquals=c.prototype.geq=c.prototype.greaterOrEquals=function(e){return 0<=this.compare(e)},h.prototype.leq=h.prototype.lesserOrEquals=p.prototype.leq=p.prototype.lesserOrEquals=c.prototype.leq=c.prototype.lesserOrEquals=function(e){return this.compare(e)<=0},c.prototype.isEven=function(){return 0==(1&this.value[0])},p.prototype.isEven=function(){return 0==(1&this.value)},h.prototype.isEven=function(){return(this.value&BigInt(1))===BigInt(0)},c.prototype.isOdd=function(){return 1==(1&this.value[0])},p.prototype.isOdd=function(){return 1==(1&this.value)},h.prototype.isOdd=function(){return(this.value&BigInt(1))===BigInt(1)},c.prototype.isPositive=function(){return!this.sign},h.prototype.isPositive=p.prototype.isPositive=function(){return 0<this.value},c.prototype.isNegative=function(){return this.sign},h.prototype.isNegative=p.prototype.isNegative=function(){return this.value<0},c.prototype.isUnit=function(){return!1},p.prototype.isUnit=function(){return 1===Math.abs(this.value)},h.prototype.isUnit=function(){return this.abs().value===BigInt(1)},c.prototype.isZero=function(){return!1},p.prototype.isZero=function(){return 0===this.value},h.prototype.isZero=function(){return this.value===BigInt(0)},h.prototype.isDivisibleBy=p.prototype.isDivisibleBy=c.prototype.isDivisibleBy=function(e){e=j(e);return!e.isZero()&&(!!e.isUnit()||(0===e.compareAbs(2)?this.isEven():this.mod(e).isZero()))},h.prototype.isPrime=p.prototype.isPrime=c.prototype.isPrime=function(e){var t=B(this);if(t!==u)return t;var t=this.abs(),n=t.bitLength();if(n<=64)return A(t,[2,3,5,7,11,13,17,19,23,29,31,37]);for(var n=Math.log(2)*n.toJSNumber(),r=Math.ceil(!0===e?2*Math.pow(n,2):n),o=[],i=0;i<r;i++)o.push(V(i+2));return A(t,o)},h.prototype.isProbablePrime=p.prototype.isProbablePrime=c.prototype.isProbablePrime=function(e,t){var n=B(this);if(n!==u)return n;for(var r=this.abs(),o=e===u?5:e,i=[],a=0;a<o;a++)i.push(V.randBetween(2,r.minus(2),t));return A(r,i)},h.prototype.modInv=p.prototype.modInv=c.prototype.modInv=function(e){for(var t,n,r,o=V.zero,i=V.one,a=j(e),u=this.abs();!u.isZero();)t=a.divide(u),n=o,r=a,o=i,a=u,i=n.subtract(t.multiply(i)),u=r.subtract(t.multiply(u));if(a.isUnit())return-1===o.compare(0)&&(o=o.add(e)),this.isNegative()?o.negate():o;throw new Error(this.toString()+" and "+e.toString()+" are not co-prime")},c.prototype.next=function(){var e=this.value;return this.sign?i(e,1,this.sign):new c(o(e,1),this.sign)},p.prototype.next=function(){var e=this.value;return e+1<t?new p(e+1):new c(n,!1)},h.prototype.next=function(){return new h(this.value+BigInt(1))},c.prototype.prev=function(){var e=this.value;return this.sign?new c(o(e,1),!0):i(e,1,this.sign)},p.prototype.prev=function(){var e=this.value;return-t<e-1?new p(e-1):new c(n,!0)},h.prototype.prev=function(){return new h(this.value-BigInt(1))};for(var a=[1];2*a[a.length-1]<=v;)a.push(2*a[a.length-1]);var N=a.length,O=a[N-1];function z(e){return Math.abs(e)<=v}function C(e,t,n){t=j(t);for(var r=e.isNegative(),o=t.isNegative(),i=r?e.not():e,a=o?t.not():t,u=0,s=0,l=null,c=null,f=[];!i.isZero()||!a.isZero();)u=(l=P(i,O))[1].toJSNumber(),r&&(u=O-1-u),s=(c=P(a,O))[1].toJSNumber(),i=l[0],a=c[0],f.push(n(u,s=o?O-1-s:s));for(var p=0!==n(r?1:0,o?1:0)?V(-1):V(0),h=f.length-1;0<=h;--h)p=p.multiply(O).add(V(f[h]));return p}h.prototype.shiftLeft=p.prototype.shiftLeft=c.prototype.shiftLeft=function(e){var t=j(e).toJSNumber();if(!z(t))throw new Error(String(t)+" is too large for shifting.");if(t<0)return this.shiftRight(-t);var n=this;if(n.isZero())return n;for(;N<=t;)n=n.multiply(O),t-=N-1;return n.multiply(a[t])},h.prototype.shiftRight=p.prototype.shiftRight=c.prototype.shiftRight=function(e){var t,n=j(e).toJSNumber();if(!z(n))throw new Error(String(n)+" is too large for shifting.");if(n<0)return this.shiftLeft(-n);for(var r=this;N<=n;){if(r.isZero()||r.isNegative()&&r.isUnit())return r;r=(t=P(r,O))[1].isNegative()?t[0].prev():t[0],n-=N-1}return(t=P(r,a[n]))[1].isNegative()?t[0].prev():t[0]},h.prototype.not=p.prototype.not=c.prototype.not=function(){return this.negate().prev()},h.prototype.and=p.prototype.and=c.prototype.and=function(e){return C(this,e,function(e,t){return e&t})},h.prototype.or=p.prototype.or=c.prototype.or=function(e){return C(this,e,function(e,t){return e|t})},h.prototype.xor=p.prototype.xor=c.prototype.xor=function(e){return C(this,e,function(e,t){return e^t})};var W=1<<30;function T(e){e=e.value,e="number"==typeof e?e|W:"bigint"==typeof e?e|BigInt(W):e[0]+e[1]*v|1073758208;return e&-e}function F(e,t){return e=j(e),t=j(t),e.greater(t)?e:t}function D(e,t){return e=j(e),t=j(t),e.lesser(t)?e:t}function U(e,t){if(e=j(e).abs(),t=j(t).abs(),e.equals(t))return e;if(e.isZero())return t;if(t.isZero())return e;for(var n,r,o=l[1];e.isEven()&&t.isEven();)n=D(T(e),T(t)),e=e.divide(n),t=t.divide(n),o=o.multiply(n);for(;e.isEven();)e=e.divide(T(e));do{for(;t.isEven();)t=t.divide(T(t))}while(e.greater(t)&&(r=t,t=e,e=r),!(t=t.subtract(e)).isZero());return o.isUnit()?e:e.multiply(o)}h.prototype.bitLength=p.prototype.bitLength=c.prototype.bitLength=function(){var e=this;return 0===(e=e.compareTo(V(0))<0?e.negate().subtract(V(1)):e).compareTo(V(0))?V(0):V(function e(t,n){var r,o;return n.compareTo(t)<=0?(r=(o=e(t,n.square(n))).p,o=o.e,(n=r.multiply(n)).compareTo(t)<=0?{p:n,e:2*o+1}:{p:r,e:2*o}):{p:V(1),e:0}}(e,V(2)).e).add(V(1))};var $=function(e,t,n,r){n=n||f,e=String(e),r||(e=e.toLowerCase(),n=n.toLowerCase());for(var o=e.length,i=Math.abs(t),a={},u=0;u<n.length;u++)a[n[u]]=u;for(u=0;u<o;u++)if("-"!==(s=e[u])&&s in a&&a[s]>=i&&("1"!==s||1!==i))throw new Error(s+" is not a valid digit in base "+t+".");t=j(t);var s,l=[],r="-"===e[0];for(u=r?1:0;u<e.length;u++)if((s=e[u])in a)l.push(j(a[s]));else{if("<"!==s)throw new Error(s+" is not a valid character");for(var c=u;">"!==e[++u]&&u<e.length;);l.push(j(e.slice(c+1,u)))}return J(l,t,r)};function J(e,t,n){for(var r=l[0],o=l[1],i=e.length-1;0<=i;i--)r=r.add(e[i].times(o)),o=o.times(t);return n?r.negate():r}function q(e,t){if((t=V(t)).isZero()){if(e.isZero())return{value:[0],isNegative:!1};throw new Error("Cannot convert nonzero numbers to base 0.")}if(t.equals(-1)){if(e.isZero())return{value:[0],isNegative:!1};if(e.isNegative())return{value:[].concat.apply([],Array.apply(null,Array(-e.toJSNumber())).map(Array.prototype.valueOf,[1,0])),isNegative:!1};var n=Array.apply(null,Array(e.toJSNumber()-1)).map(Array.prototype.valueOf,[0,1]);return n.unshift([1]),{value:[].concat.apply([],n),isNegative:!1}}n=!1;if(e.isNegative()&&t.isPositive()&&(n=!0,e=e.abs()),t.isUnit())return e.isZero()?{value:[0],isNegative:!1}:{value:Array.apply(null,Array(e.toJSNumber())).map(Number.prototype.valueOf,1),isNegative:n};for(var r=[],o=e;o.isNegative()||0<=o.compareAbs(t);){var o=(i=o.divmod(t)).quotient,i=i.remainder;i.isNegative()&&(i=t.minus(i).abs(),o=o.next()),r.push(i.toJSNumber())}return r.push(o.toJSNumber()),{value:r.reverse(),isNegative:n}}function G(e,t,n){e=q(e,t);return(e.isNegative?"-":"")+e.value.map(function(e){return e<(t=n||f).length?t[e]:"<"+e+">";var t}).join("")}function H(e){if(d(+e)){var t=+e;if(t===b(t))return s?new h(BigInt(t)):new p(t);throw new Error("Invalid integer: "+e)}var t="-"===e[0],n=(e=t?e.slice(1):e).split(/e/i);if(2<n.length)throw new Error("Invalid integer: "+n.join("e"));if(2===n.length){var r=n[1];if((r=+(r="+"===r[0]?r.slice(1):r))!==b(r)||!d(r))throw new Error("Invalid integer: "+r+" is not a valid exponent.");var n=n[0],o=n.indexOf(".");if(0<=o&&(r-=n.length-o-1,n=n.slice(0,o)+n.slice(o+1)),r<0)throw new Error("Cannot include negative exponent part for integers");e=n+=new Array(r+1).join("0")}if(!/^([0-9][0-9]*)$/.test(e))throw new Error("Invalid integer: "+e);if(s)return new h(BigInt(t?"-"+e:e));for(var i=[],a=e.length,u=a-7;0<a;)i.push(+e.slice(u,a)),(u-=7)<0&&(u=0),a-=7;return m(i),new c(i,t)}function j(e){if("number"!=typeof e)return"string"==typeof e?H(e):"bigint"==typeof e?new h(e):e;if(s)return new h(BigInt(e));if(d(e)){if(e!==b(e))throw new Error(e+" is not an integer.");return new p(e)}return H(e.toString())}c.prototype.toArray=function(e){return q(this,e)},p.prototype.toArray=function(e){return q(this,e)},h.prototype.toArray=function(e){return q(this,e)},c.prototype.toString=function(e,t){if(10!==(e=e===u?10:e))return G(this,e,t);for(var n,r=this.value,o=r.length,i=String(r[--o]);0<=--o;)n=String(r[o]),i+="0000000".slice(n.length)+n;return(this.sign?"-":"")+i},h.prototype.toString=p.prototype.toString=function(e,t){return 10!=(e=e===u?10:e)?G(this,e,t):String(this.value)},h.prototype.toJSON=c.prototype.toJSON=p.prototype.toJSON=function(){return this.toString()},c.prototype.toJSNumber=c.prototype.valueOf=function(){return parseInt(this.toString(),10)},p.prototype.toJSNumber=p.prototype.valueOf=function(){return this.value},h.prototype.valueOf=h.prototype.toJSNumber=function(){return parseInt(this.toString(),10)};for(var e=0;e<1e3;e++)l[e]=j(e),0<e&&(l[-e]=j(-e));return l.one=l[1],l.zero=l[0],l.minusOne=l[-1],l.max=F,l.min=D,l.gcd=U,l.lcm=function(e,t){return e=j(e).abs(),t=j(t).abs(),e.divide(U(e,t)).multiply(t)},l.isInstance=function(e){return e instanceof c||e instanceof p||e instanceof h},l.randBetween=function(e,t,n){e=j(e),t=j(t);var r=n||Math.random,n=D(e,t),e=F(e,t).subtract(n).add(1);if(e.isSmall)return n.add(Math.floor(r()*e));for(var o=q(e,v).value,i=[],a=!0,u=0;u<o.length;u++){var s=a?o[u]+(u+1<o.length?o[u+1]/v:0):v,s=b(r()*s);i.push(s),s<o[u]&&(a=!1)}return n.add(l.fromArray(i,v,!1))},l.fromArray=function(e,t,n){return J(e.map(j),j(t||10),n)},l}();e.hasOwnProperty("exports")&&(e.exports=V)}),mr={"www.baidu.com":"baidusearch","m.baidu.com":"baidusearch","m5.baidu.com":"baidusearch","www.baike.com":"toutiaobaike","baike.so.com":"360baike","m.baike.so.com":"360baike","zh.wikipedia.org":"wikipedia","zh.m.wikipedia.org":"wikipedia","baike.soso.com":"sogoubaike","baike.wap.soso.com":"sogoubaike","m.sm.cn":"shenma","so.m.sm.cn":"shenma","wap.sogou.com":"sougou","m.sogou.com":"sougou","www.sogou.com":"sougou","www.so.com":"360search","m.so.com":"360search","www.bing.com":"bing","cn.bing.com":"bing","yandex.com":"yandex","www.soso.com":"soso","haokan.baidu.com":"baidu-haokan","tieba.baidu.com":"baidu-tieba","image.baidu.com":"baidu-image","wk.baidu.com":"wenku","wapwenku.baidu.com":"wenku","wenku.baidu.com":"wenku","jingyan.baidu.com":"jingyan","zhidao.baidu.com":"zhidao","power.baidu.com":"zhidao","zhidaocommit.baidu.cn":"zhidao","zhidao.baidu.cn":"zhidao","z.baidu.com":"zhidao","wapiknow.baidu.com":"zhidao","wapiknow.baidu.cn":"zhidao","app.wapiknow.baidu.com":"zhidao","baobao.baidu.com":"bbzd","hanyu.baidu.com":"hanyu","haoxue.baidu.com":"haoxue","youjia.baidu.com":"youjia","expert.baidu.com":"expert","shushuo.baidu.com":"shushuo","www.iqiyi.com":"iqiyi","m.iqiyi.com":"iqiyi","wenda.so.com":"360wenda","m.wenda.so.com":"360wenda","iask.sina.com.cn":"iasksina","www.haodf.com":"haodf","m.haodf.com":"haodf","wenda.tianya.cn":"tianyawenda","www.zhihu.com":"zhihu","m.zhihu.com":"zhihu","wenda.sohu.com":"sohuwenda","wenda.sogou.com":"sohuwenda","wenwen.sogou.com":"sogouwenwen","wenwen.m.sogou.com":"sogouwenwen","muzhi.baidu.com":"muzhibaidu","www.39.net":"39jiankang","m.39.net":"39jiankang","www.xywy.com":"xywy","club.xywy.com":"xywy","3g.xywy.com":"xywy","3g.club.xywy.com":"xywy","www.120ask.com":"120ask","m.120ask.com":"120ask","www.chunyuyisheng.com":"chunyuyisheng","www.wenbing.cn":"wenbing","www.qiuyi.cn":"qiuyi","www.fh21.com.cn":"fh21","wap.fh21.com.cn":"fh21","www.qqyy.com":"qqyy","www.myzx.cn":"myzx","m.myzx.cn":"myzx","www.99.com.cn":"99jiankang","m.99.com.cn":"99jiankang","www.babytree.com":"babytree","m.babytree.com":"babytree","3g.babytree.com":"babytree","www.pcbaby.com.cn":"pcbaby","m.pcbaby.com.cn":"pcbaby","www.ci123.com":"ci123","www.mama.cn":"mama","www.yaolan.com":"yaolan","3g.yaolan.com":"yaolan","beijing.iyaya.com":"iyaya","www.iyaya.com":"iyaya","zuoye.baidu.com":"zuoyebang","homework.baidu.com":"zuoyebang","www.zuoyebang.com":"zuoyebang","www.zybang.com":"zuoyebang","www.jyeoo.com":"jyeoo","shop.jyeoo.com":"jyeoo","m.jyeoo.com":"jyeoo","www.mofangge.com":"mofangge","user.mofangge.com":"mofangge","zuowen.mofangge.com":"mofangge","zuoye.mofangge.com":"mofangge","bxt.mofangge.com":"mofangge","17.mofangge.com":"mofangge","zone.mofangge.com":"mofangge","m.mofangge.com":"mofangge"},vr=[{domain:"google.co",channel:"google"},{domain:"yahoo.co",channel:"yahoo"}];function D(e,t){t=new RegExp("(^|&)"+t+"=([^&]*)(&|$)"),e=e.split("?")[1]&&e.split("?")[1].match(t);return null!=e?unescape(e[2]):null}function yr(e,t){t=new RegExp("(^|&)"+t+"=([^&]*)(&|$)"),e=e&&e.match(t);return null!=e?unescape(e[2]):null}function wr(e){var t,e=0<arguments.length&&void 0!==e?e:{},n=0;return e.url?D(t=e.url,"lid")?n=D(t,"lid"):D(t,"rsv_iqid")?n=D(t,"rsv_iqid"):D(t,"eqid")&&(n=gr(D(t,"eqid").slice(0,16),16).toString()):e.query&&e.query.searchParams&&((t=JSON.parse(e.query.searchParams)).logParams&&yr(t.logParams,"lid")&&(n=yr(t.logParams,"lid"))),n&&n.match(/^0x/)?gr(n.slice(2),16).toString():n}function br(e){var t,e=0<arguments.length&&void 0!==e?e:{},n=0;return e.url?D(t=e.url,"srcid")?n=D(t,"srcid"):D(t,"clk_info")&&JSON.parse(D(t,"clk_info")).srcid&&(n=JSON.parse(D(t,"clk_info")).srcid):e.query&&e.query.searchParams&&((t=JSON.parse(e.query.searchParams)).logParams&&yr(t.logParams,"clk_info")&&JSON.parse(yr(t.logParams,"clk_info")).srcid&&(n=JSON.parse(yr(t.logParams,"clk_info")).srcid)),n}function xr(e){e=new RegExp("(^| )"+e+"=([^;]*)(;|$)"),e=document.cookie&&document.cookie.match(e);return null!=e?unescape(e[2]):null}function _r(e,t){var n=new Date;n.setTime(n.getTime()+31536e6),document.cookie=e+"="+t+";domain="+document.domain+";path=/;expires="+n.toGMTString()}var Sr={web:["url","referer","ua","baiduid","device","sid","cuid","uk","network","channel","fr","visitId","search_lid","search_srcid"],xcx:["device","swan_id","app_version","app_key","scene","baiduid","session_id","cuid","uk","sid","network","os_version","host_app","host_version","sdk_version","url","referer","screen","device_mfr","device_md","channel","fr","visitId","search_lid","search_srcid"]},kr=(e(Er,[{key:"setInitPlatParam",value:function(t,e){var n=this;this.platParam.url=window.location.href,this.platParam.referer=document.referrer,this.platParam.ua=navigator.userAgent,document.cookie&&document.cookie.split("; ").forEach(function(e){e=e.split("=");"BAIDUID"===e[0]?n.platParam.baiduid=e[1]:"pc"===t&&"H_PS_PSSID"===e[0]||"h5"===t&&"H_WISE_SIDS"===e[0]?n.platParam.sid=e[1]:"BAIDUCUID"===e[0]&&(n.platParam.cuid=e[1])}),this.platParam.channel=function(e){var t=e&&e.split("/")[2],n="";if(t)if(-1<t.indexOf("baike.baidu")||-1<t.indexOf("baike.otp.baidu"))(n=xr("channel"))||(n="NA");else if(mr[t])_r("channel",n=mr[t]);else{for(var r=0;r<vr.length;r++)if(-1<t.indexOf(vr[r].domain)){n=vr[r].channel;break}_r("channel",n=""===n?t:n)}else(e=new Date).setTime(e.getTime()-1),document.cookie="channel=;domain="+document.domain+";path=/;expires="+e.toGMTString(),n="NA";return n}(document.referrer),e&&(this.platParam.visitId=function(e){e=e&&e.split("/")[2];if(e&&-1<e.indexOf("baike.baidu")||-1<e.indexOf("baike.otp.baidu"))return xr("baikeVisitId");e=dr();return _r("baikeVisitId",e),e}(document.referrer)),D(this.platParam.url,"fr")&&(this.platParam.fr=D(this.platParam.url,"fr").split("#")[0]),wr({url:document.referrer})&&(this.platParam.search_lid=wr({url:document.referrer})),br({url:document.referrer})&&(this.platParam.search_srcid=br({url:document.referrer}))}},{key:"getPlatform",value:function(){return this.platform}},{key:"getPlatParam",value:function(){return this.platParam}},{key:"setPlatParam",value:function(e,t,n){if(""!==this.platform)if(I(e)){var r,n=void 0!==e.setVisitId?e.setVisitId:n;for(r in this.setInitPlatParam(e.device,n),e)-1<Sr[this.platform].indexOf(r)&&(this.platParam[r]=e[r])}else t&&console.warn("设置平台字段参数不是object");else t&&console.warn("设置平台字段参数之前，请先设置平台。")}}]),Er);function Er(){t(this,Er),this.platform="web",this.platParam={}}function Pr(e,t,n){if(!I(e))return n&&console.warn("检测必填字段的数据不是object"),0;for(var r=0;r<t.length;r++)if(void 0===e[t[r]])return n&&console.warn("必填字段",t,"缺少字段"+t[r]),0;return 1}var Ir={viewPage:{default:{atype:"view",stype:"page"},required:["page"],keys:["page","page_param","series","ignore","has_video"]},viewEl:{default:{atype:"view",stype:"element"},required:["page"],keys:["page","page_param","element","element_param","element_type","element_id","position_top","position_left","list","list_param","index","list2","list2_param","list2_index","list3","list3_param","list3_index","series","is_video","video_id"],ename:"element"},viewElDraw:{default:{atype:"view",stype:"element-draw"},required:["page"],keys:["page","page_param","element","element_param","element_type","element_id","position_top","position_left","list","list_param","index","list2","list2_param","list2_index","list3","list3_param","list3_index","series","is_video","video_id"],ename:"element"},actClick:{default:{atype:"act",stype:"click"},required:["page"],keys:["page","page_param","element","element_param","element_type","element_id","position_top","position_left","list","list_param","index","list2","list2_param","list2_index","list3","list3_param","list3_index","series","nav","nav_target","clk_type","times"],ename:"element"},actVideo:{default:{atype:"act",stype:"video"},required:["video_action"],keys:["page","page_param","video_name","video_id","video_param","video_action","video_position","duration","video_position_p","play_times","series"],ename:"video_action"},actScroll:{default:{atype:"act",stype:"scroll"},required:["page"],keys:["page","page_param","scroll_top","scroll_left","scroll_top_p","scroll_left_p","page_height","page_width","scroll_top_max","scroll_left_max","scroll_top_max_p","scroll_left_max_p","direction","series"]},actEvent:{default:{atype:"act",stype:"event"},required:["act_type"],keys:["page","page_param","element","element_param","act_type","act_param","series"],ename:"act_type"},timingPage:{default:{atype:"timing",stype:"page"},required:["page_id","page","time_duration"],keys:["page_id","page","page_param","time_duration","time_all","time_piece","tick"]},timingVideo:{default:{atype:"timing",stype:"video"},required:["time_duration"],keys:["page","page_param","video_name","video_id","video_param","video_position","duration","video_position_p","play_times","time_duration","time_single","time_piece","tick"]},timingOthers:{default:{atype:"timing",stype:"others"},required:["page","timing_type","time_duration"],keys:["page","timing_type","time_duration","position"],ename:"timing_type"},eventError:{default:{atype:"event",stype:"error"},required:[],keys:["page","page_param","event_level","event_file","event_line","event_msg"]}};function Ar(e){var t=e.baseParam,n=e.pt,r=e.ptInfo,e=e.isDebug,t={setconfig:1,common:m(m({},t),{},{platform:n,ptInfo:r})};return e&&(console.log("logConfig"),console.log(t)),yn(P(t))}function Nr(e,t,n,r){if("getconfig"===n)return r?{getconfig:yn(P(t.getconfig))}:yn(P(t));var o=e.baseParam,i=e.pt,a=e.ptInfo,e=e.isDebug;if(!n||!Ir[n])return e&&console.warn("发送的type不对，当前type是"+n),"noType";if(!Pr(t,Ir[n].required,e))return e&&console.warn("发送"+n+"类型的必填信息不全"),"noRequired";var u,s=P(t),l={},c={},f={},p={},h={},d={},t={},g=(s.ruleId&&(t.rule_id=s.ruleId,delete s.ruleId),{});for(u in s)-1<Ir[n].keys.indexOf(u)?l[u]=s[u]:"ext"===u?c=s[u]:0===u.indexOf("f_")?f[u]=s[u]:0===u.indexOf("c_")?p[u]=s[u]:-1<Sn.indexOf(u)?h[u]=s[u]:-1<Sr[i].indexOf(u)?d[u]=s[u]:g[u]=s[u],delete s[u];if(Ir[n].ename&&(l.ename=l[Ir[n].ename]),r)return r=m({setconfig:0,common:m(m(m({},o),{},{timestamp:(new Date).getTime()},h),{},{platform:i,ptInfo:m(m({},a),d)}),action:m(m({},Ir[n].default),{},{actionInfo:l,ext:c,commonExt:f,customExt:p,customUser:g})},t),e&&(console.log("logHttp"),console.log(r)),yn(P(r));o=m({setconfig:0,common:m(m({timestamp:(new Date).getTime()},h),{},{ptInfo:d}),action:m(m({},Ir[n].default),{},{actionInfo:l,ext:c,commonExt:f,customExt:p,customUser:g})},t);return e&&(console.log("logWebsocket"),console.log(o)),yn(P(o))}e(Cr,[{key:"getGlobalParam",value:function(){return this.globalParam}},{key:"setGlobalParam",value:function(e,t){if(I(e)){for(var n in e)if(void 0!==this.globalParam[n])if(I(this.globalParam[n])&&I(e[n]))for(var r in e[n])this.globalParam[n][r]?this.globalParam[n][r]=e[n][r]:t&&console.warn("设置全局参数中，"+n+"中的"+r+"不是全局参数");else this.globalParam[n]=e[n]}else t&&console.warn("设置全局参数不是object")}}]);var Or=Cr;function Cr(){t(this,Cr),this.globalParam={debug:!1,http:{url:"https://cstm.baidu.com/log/common/v.gif"},websocket:{url:"wss://cstm.baidu.com/log/index",reconnectInterval:2e3,heartInterval:3e3,binaryType:"blob"}}}var Tr=Math.max,Dr=Math.min,qr=Math.floor,jr=/\$([$&`']|\d\d?|<[^>]*>)/g,Lr=/\$([$&`']|\d\d?)/g,Mr=(qn("replace",2,function(o,i,b,x){return[function(e,t){var n=o(this),r=null==e?void 0:e[i];return void 0!==r?r.call(e,n,t):b.call(String(n),e,t)},function(e,t){var n=x(b,e,this,t);if(n.done)return n.value;var r,o=S(e),i=String(this),a="function"==typeof t,u=(a||(t=String(t)),o.global);u&&(r=o.unicode,o.lastIndex=0);for(var s=[];;){var l=xn(o,i);if(null===l)break;if(s.push(l),!u)break;""===String(l[0])&&(o.lastIndex=bn(i,_(o.lastIndex),r))}for(var c,f="",p=0,h=0;h<s.length;h++){for(var l=s[h],d=String(l[0]),g=Tr(Dr(ye(l.index),i.length),0),m=[],v=1;v<l.length;v++)m.push(void 0===(c=l[v])?c:String(c));var y=l.groups,w=a?(w=[d].concat(m,g,i),void 0!==y&&w.push(y),String(t.apply(void 0,w))):function(i,a,u,s,l,e){var c=u+i.length,f=s.length,t=Lr;return void 0!==l&&(l=Z(l),t=jr),b.call(e,t,function(e,t){var n;switch(t.charAt(0)){case"$":return"$";case"&":return i;case"`":return a.slice(0,u);case"'":return a.slice(c);case"<":n=l[t.slice(1,-1)];break;default:var r,o=+t;if(0==o)return e;if(f<o)return 0!==(r=qr(o/10))&&r<=f?void 0===s[r-1]?t.charAt(1):s[r-1]+t.charAt(1):e;n=s[o-1]}return void 0===n?"":n})}(d,i,g,m,y,t);p<=g&&(f+=i.slice(p,g)+w,p=g+d.length)}return f+i.slice(p)}]}),X(2)),Rr=(o(o.P+o.F*!V([].filter,!0),"Array",{filter:function(e){return Mr(this,e,arguments[1])}}),X(5)),q="find",Br=!0,zr=(q in[]&&Array(1)[q](function(){Br=!1}),o(o.P+o.F*Br,"Array",{find:function(e){return Rr(this,e,1<arguments.length?arguments[1]:void 0)}}),jt(q),[].sort),Wr=[1,2,3],Fr=(o(o.P+o.F*(s(function(){Wr.sort(void 0)})||!s(function(){Wr.sort(null)})||!V(zr)),"Array",{sort:function(e){return void 0===e?zr.call(Z(this)):zr.call(Z(this),c(e))}}),n(function(L){var n=window;function f(e,t){return e="0x"+e.slice(1)-65536,t||(e<0?String.fromCharCode(65536+e):String.fromCharCode(e>>10|55296,1023&e|56320))}function M(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}function R(){_()}var e,p,b,i,B,h,z,W,x,s,l,_,S,r,k,d,o,a,g,E="sizzle"+ +new Date,c=n.document,P=0,F=0,U=T(),$=T(),J=T(),m=T(),G=function(e,t){return e===t&&(l=!0),0},H={}.hasOwnProperty,t=[],V=t.pop,Z=t.push,I=t.push,K=t.slice,y=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},X="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",u="[\\x20\\t\\r\\n\\f]",v="(?:\\\\[\\da-fA-F]{1,6}"+u+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Q="\\["+u+"*("+v+")(?:"+u+"*([*^$|!~]?=)"+u+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+v+"))|)"+u+"*\\]",Y=":("+v+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+Q+")*)|.*)\\)|)",ee=new RegExp(u+"+","g"),w=new RegExp("^"+u+"+|((?:^|[^\\\\])(?:\\\\.)*)"+u+"+$","g"),te=new RegExp("^"+u+"*,"+u+"*"),ne=new RegExp("^"+u+"*([>+~]|"+u+")"+u+"*"),re=new RegExp(u+"|>"),oe=new RegExp(Y),ie=new RegExp("^"+v+"$"),A={ID:new RegExp("^#("+v+")"),CLASS:new RegExp("^\\.("+v+")"),TAG:new RegExp("^("+v+"|[*])"),ATTR:new RegExp("^"+Q),PSEUDO:new RegExp("^"+Y),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+u+"*(even|odd|(([+-]|)(\\d*)n|)"+u+"*(?:([+-]|)"+u+"*(\\d+)|))"+u+"*\\)|)","i"),bool:new RegExp("^(?:"+X+")$","i"),needsContext:new RegExp("^"+u+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+u+"*((?:-\\d)?\\d*)"+u+"*\\)|)(?=[^-]|$)","i")},ae=/HTML$/i,ue=/^(?:input|select|textarea|button)$/i,se=/^h\d$/i,N=/^[^{]+\{\s*\[native \w/,le=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ce=/[+~]/,O=new RegExp("\\\\[\\da-fA-F]{1,6}"+u+"?|\\\\([^\\r\\n\\f])","g"),fe=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,pe=we(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{I.apply(t=K.call(c.childNodes),c.childNodes),t[c.childNodes.length].nodeType}catch(n){I={apply:t.length?function(e,t){Z.apply(e,K.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function C(e,t,n,r){var o,i,a,u,s,l,c=t&&t.ownerDocument,f=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==f&&9!==f&&11!==f)return n;if(!r&&(_(t),t=t||S,k)){if(11!==f&&(u=le.exec(e)))if(o=u[1]){if(9===f){if(!(l=t.getElementById(o)))return n;if(l.id===o)return n.push(l),n}else if(c&&(l=c.getElementById(o))&&g(t,l)&&l.id===o)return n.push(l),n}else{if(u[2])return I.apply(n,t.getElementsByTagName(e)),n;if((o=u[3])&&p.getElementsByClassName&&t.getElementsByClassName)return I.apply(n,t.getElementsByClassName(o)),n}if(p.qsa&&!m[e+" "]&&(!d||!d.test(e))&&(1!==f||"object"!==t.nodeName.toLowerCase())){if(l=e,c=t,1===f&&(re.test(e)||ne.test(e))){for((c=ce.test(e)&&me(t.parentNode)||t)===t&&p.scope||((a=t.getAttribute("id"))?a=a.replace(fe,M):t.setAttribute("id",a=E)),i=(s=h(e)).length;i--;)s[i]=(a?"#"+a:":scope")+" "+ye(s[i]);l=s.join(",")}try{return I.apply(n,c.querySelectorAll(l)),n}catch(t){m(e,!0)}finally{a===E&&t.removeAttribute("id")}}}return W(e.replace(w,"$1"),t,n,r)}function T(){var r=[];return function e(t,n){return r.push(t+" ")>b.cacheLength&&delete e[r.shift()],e[t+" "]=n}}function D(e){return e[E]=!0,e}function q(e){var t=S.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t)}}function he(e,t){for(var n=e.split("|"),r=n.length;r--;)b.attrHandle[n[r]]=t}function de(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function ge(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&pe(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function j(a){return D(function(i){return i=+i,D(function(e,t){for(var n,r=a([],e.length,i),o=r.length;o--;)e[n=r[o]]&&(e[n]=!(t[n]=e[n]))})})}function me(e){return e&&void 0!==e.getElementsByTagName&&e}for(e in p=C.support={},B=C.isXML=function(e){var t=e.namespaceURI,e=(e.ownerDocument||e).documentElement;return!ae.test(t||e&&e.nodeName||"HTML")},_=C.setDocument=function(e){var e=e?e.ownerDocument||e:c;return e!=S&&9===e.nodeType&&e.documentElement&&(r=(S=e).documentElement,k=!B(S),c!=S&&(e=S.defaultView)&&e.top!==e&&(e.addEventListener?e.addEventListener("unload",R,!1):e.attachEvent&&e.attachEvent("onunload",R)),p.scope=q(function(e){return r.appendChild(e).appendChild(S.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length}),p.attributes=q(function(e){return e.className="i",!e.getAttribute("className")}),p.getElementsByTagName=q(function(e){return e.appendChild(S.createComment("")),!e.getElementsByTagName("*").length}),p.getElementsByClassName=N.test(S.getElementsByClassName),p.getById=q(function(e){return r.appendChild(e).id=E,!S.getElementsByName||!S.getElementsByName(E).length}),p.getById?(b.filter.ID=function(e){var t=e.replace(O,f);return function(e){return e.getAttribute("id")===t}},b.find.ID=function(e,t){if(void 0!==t.getElementById&&k)return(t=t.getElementById(e))?[t]:[]}):(b.filter.ID=function(e){var t=e.replace(O,f);return function(e){e=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return e&&e.value===t}},b.find.ID=function(e,t){if(void 0!==t.getElementById&&k){var n,r,o,i=t.getElementById(e);if(i){if((n=i.getAttributeNode("id"))&&n.value===e)return[i];for(o=t.getElementsByName(e),r=0;i=o[r++];)if((n=i.getAttributeNode("id"))&&n.value===e)return[i]}return[]}}),b.find.TAG=p.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):p.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],o=0,i=t.getElementsByTagName(e);if("*"!==e)return i;for(;n=i[o++];)1===n.nodeType&&r.push(n);return r},b.find.CLASS=p.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&k)return t.getElementsByClassName(e)},o=[],d=[],(p.qsa=N.test(S.querySelectorAll))&&(q(function(e){var t;r.appendChild(e).innerHTML="<a id='"+E+"'></a><select id='"+E+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&d.push("[*^$]="+u+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||d.push("\\["+u+"*(?:value|"+X+")"),e.querySelectorAll("[id~="+E+"-]").length||d.push("~="),(t=S.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||d.push("\\["+u+"*name"+u+"*="+u+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||d.push(":checked"),e.querySelectorAll("a#"+E+"+*").length||d.push(".#.+[+~]"),e.querySelectorAll("\\\f"),d.push("[\\r\\n\\f]")}),q(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=S.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&d.push("name"+u+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&d.push(":enabled",":disabled"),r.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&d.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),d.push(",.*:")})),(p.matchesSelector=N.test(a=r.matches||r.webkitMatchesSelector||r.mozMatchesSelector||r.oMatchesSelector||r.msMatchesSelector))&&q(function(e){p.disconnectedMatch=a.call(e,"*"),a.call(e,"[s!='']:x"),o.push("!=",Y)}),d=d.length&&new RegExp(d.join("|")),o=o.length&&new RegExp(o.join("|")),e=N.test(r.compareDocumentPosition),g=e||N.test(r.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,t=t&&t.parentNode;return e===t||!(!t||1!==t.nodeType||!(n.contains?n.contains(t):e.compareDocumentPosition&&16&e.compareDocumentPosition(t)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},G=e?function(e,t){return e===t?(l=!0,0):!e.compareDocumentPosition-!t.compareDocumentPosition||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!p.sortDetached&&t.compareDocumentPosition(e)===n?e==S||e.ownerDocument==c&&g(c,e)?-1:t==S||t.ownerDocument==c&&g(c,t)?1:s?y(s,e)-y(s,t):0:4&n?-1:1);var n}:function(e,t){if(e===t)return l=!0,0;var n,r=0,o=e.parentNode,i=t.parentNode,a=[e],u=[t];if(!o||!i)return e==S?-1:t==S?1:o?-1:i?1:s?y(s,e)-y(s,t):0;if(o===i)return de(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)u.unshift(n);for(;a[r]===u[r];)r++;return r?de(a[r],u[r]):a[r]==c?-1:u[r]==c?1:0}),S},C.matches=function(e,t){return C(e,null,null,t)},C.matchesSelector=function(e,t){if(_(e),p.matchesSelector&&k&&!m[t+" "]&&(!o||!o.test(t))&&(!d||!d.test(t)))try{var n=a.call(e,t);if(n||p.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){m(t,!0)}return 0<C(t,S,null,[e]).length},C.contains=function(e,t){return(e.ownerDocument||e)!=S&&_(e),g(e,t)},C.attr=function(e,t){(e.ownerDocument||e)!=S&&_(e);var n=b.attrHandle[t.toLowerCase()],n=n&&H.call(b.attrHandle,t.toLowerCase())?n(e,t,!k):void 0;return void 0!==n?n:p.attributes||!k?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null},C.escape=function(e){return(e+"").replace(fe,M)},C.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},C.uniqueSort=function(e){var t,n=[],r=0,o=0;if(l=!p.detectDuplicates,s=!p.sortStable&&e.slice(0),e.sort(G),l){for(;t=e[o++];)t===e[o]&&(r=n.push(o));for(;r--;)e.splice(n[r],1)}return s=null,e},i=C.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=i(t);return n},(b=C.selectors={cacheLength:50,createPseudo:D,match:A,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(O,f),e[3]=(e[3]||e[4]||e[5]||"").replace(O,f),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||C.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&C.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return A.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&oe.test(n)&&(t=h(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(O,f).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=U[e+" "];return t||(t=new RegExp("(^|"+u+")"+e+"("+u+"|$)"))&&U(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(t,n,r){return function(e){e=C.attr(e,t);return null==e?"!="===n:!n||(e+="","="===n?e===r:"!="===n?e!==r:"^="===n?r&&0===e.indexOf(r):"*="===n?r&&-1<e.indexOf(r):"$="===n?r&&e.slice(-r.length)===r:"~="===n?-1<(" "+e.replace(ee," ")+" ").indexOf(r):"|="===n&&(e===r||e.slice(0,r.length+1)===r+"-"))}},CHILD:function(d,e,t,g,m){var v="nth"!==d.slice(0,3),y="last"!==d.slice(-4),w="of-type"===e;return 1===g&&0===m?function(e){return!!e.parentNode}:function(e,t,n){var r,o,i,a,u,s,l=v!=y?"nextSibling":"previousSibling",c=e.parentNode,f=w&&e.nodeName.toLowerCase(),p=!n&&!w,h=!1;if(c){if(v){for(;l;){for(a=e;a=a[l];)if(w?a.nodeName.toLowerCase()===f:1===a.nodeType)return!1;s=l="only"===d&&!s&&"nextSibling"}return!0}if(s=[y?c.firstChild:c.lastChild],y&&p){for(h=(u=(r=(o=(i=(a=c)[E]||(a[E]={}))[a.uniqueID]||(i[a.uniqueID]={}))[d]||[])[0]===P&&r[1])&&r[2],a=u&&c.childNodes[u];a=++u&&a&&a[l]||(h=u=0)||s.pop();)if(1===a.nodeType&&++h&&a===e){o[d]=[P,u,h];break}}else if(!1===(h=p?u=(r=(o=(i=(a=e)[E]||(a[E]={}))[a.uniqueID]||(i[a.uniqueID]={}))[d]||[])[0]===P&&r[1]:h))for(;(a=++u&&a&&a[l]||(h=u=0)||s.pop())&&((w?a.nodeName.toLowerCase()!==f:1!==a.nodeType)||!++h||(p&&((o=(i=a[E]||(a[E]={}))[a.uniqueID]||(i[a.uniqueID]={}))[d]=[P,h]),a!==e)););return(h-=m)===g||h%g==0&&0<=h/g}}},PSEUDO:function(e,i){var t,a=b.pseudos[e]||b.setFilters[e.toLowerCase()]||C.error("unsupported pseudo: "+e);return a[E]?a(i):1<a.length?(t=[e,e,"",i],b.setFilters.hasOwnProperty(e.toLowerCase())?D(function(e,t){for(var n,r=a(e,i),o=r.length;o--;)e[n=y(e,r[o])]=!(t[n]=r[o])}):function(e){return a(e,0,t)}):a}},pseudos:{not:D(function(e){var r=[],o=[],u=z(e.replace(w,"$1"));return u[E]?D(function(e,t,n,r){for(var o,i=u(e,null,r,[]),a=e.length;a--;)(o=i[a])&&(e[a]=!(t[a]=o))}):function(e,t,n){return r[0]=e,u(r,null,n,o),r[0]=null,!o.pop()}}),has:D(function(t){return function(e){return 0<C(t,e).length}}),contains:D(function(t){return t=t.replace(O,f),function(e){return-1<(e.textContent||i(e)).indexOf(t)}}),lang:D(function(n){return ie.test(n||"")||C.error("unsupported lang: "+n),n=n.replace(O,f).toLowerCase(),function(e){var t;do{if(t=k?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===r},focus:function(e){return e===S.activeElement&&(!S.hasFocus||S.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:ge(!1),disabled:ge(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!b.pseudos.empty(e)},header:function(e){return se.test(e.nodeName)},input:function(e){return ue.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(e=e.getAttribute("type"))||"text"===e.toLowerCase())},first:j(function(){return[0]}),last:j(function(e,t){return[t-1]}),eq:j(function(e,t,n){return[n<0?n+t:n]}),even:j(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:j(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:j(function(e,t,n){for(var r=n<0?n+t:t<n?t:n;0<=--r;)e.push(r);return e}),gt:j(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=b.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[e]=function(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}(e);for(e in{submit:!0,reset:!0})b.pseudos[e]=function(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}(e);function ve(){}function ye(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function we(a,e,t){var u=e.dir,s=e.next,l=s||u,c=t&&"parentNode"===l,f=F++;return e.first?function(e,t,n){for(;e=e[u];)if(1===e.nodeType||c)return a(e,t,n);return!1}:function(e,t,n){var r,o,i=[P,f];if(n){for(;e=e[u];)if((1===e.nodeType||c)&&a(e,t,n))return!0}else for(;e=e[u];)if(1===e.nodeType||c)if(o=(o=e[E]||(e[E]={}))[e.uniqueID]||(o[e.uniqueID]={}),s&&s===e.nodeName.toLowerCase())e=e[u]||e;else{if((r=o[l])&&r[0]===P&&r[1]===f)return i[2]=r[2];if((o[l]=i)[2]=a(e,t,n))return!0}return!1}}function be(o){return 1<o.length?function(e,t,n){for(var r=o.length;r--;)if(!o[r](e,t,n))return!1;return!0}:o[0]}function xe(e,t,n,r,o){for(var i,a=[],u=0,s=e.length,l=null!=t;u<s;u++)!(i=e[u])||n&&!n(i,r,o)||(a.push(i),l&&t.push(u));return a}function _e(e){for(var r,t,n,o=e.length,i=b.relative[e[0].type],a=i||b.relative[" "],u=i?1:0,s=we(function(e){return e===r},a,!0),l=we(function(e){return-1<y(r,e)},a,!0),c=[function(e,t,n){e=!i&&(n||t!==x)||((r=t).nodeType?s:l)(e,t,n);return r=null,e}];u<o;u++)if(t=b.relative[e[u].type])c=[we(be(c),t)];else{if((t=b.filter[e[u].type].apply(null,e[u].matches))[E]){for(n=++u;n<o&&!b.relative[e[n].type];n++);return function e(h,d,g,m,v,t){return m&&!m[E]&&(m=e(m)),v&&!v[E]&&(v=e(v,t)),D(function(e,t,n,r){var o,i,a,u=[],s=[],l=t.length,c=e||function(e,t,n){for(var r=0,o=t.length;r<o;r++)C(e,t[r],n);return n}(d||"*",n.nodeType?[n]:n,[]),f=!h||!e&&d?c:xe(c,u,h,n,r),p=g?v||(e?h:l||m)?[]:t:f;if(g&&g(f,p,n,r),m)for(o=xe(p,s),m(o,[],n,r),i=o.length;i--;)(a=o[i])&&(p[s[i]]=!(f[s[i]]=a));if(e){if(v||h){if(v){for(o=[],i=p.length;i--;)(a=p[i])&&o.push(f[i]=a);v(null,p=[],o,r)}for(i=p.length;i--;)(a=p[i])&&-1<(o=v?y(e,a):u[i])&&(e[o]=!(t[o]=a))}}else p=xe(p===t?p.splice(l,p.length):p),v?v(null,t,p,r):I.apply(t,p)})}(1<u&&be(c),1<u&&ye(e.slice(0,u-1).concat({value:" "===e[u-2].type?"*":""})).replace(w,"$1"),t,u<n&&_e(e.slice(u,n)),n<o&&_e(e=e.slice(n)),n<o&&ye(e))}c.push(t)}return be(c)}function Se(m,v){function e(e,t,n,r,o){var i,a,u,s=0,l="0",c=e&&[],f=[],p=x,h=e||w&&b.find.TAG("*",o),d=P+=null==p?1:Math.random()||.1,g=h.length;for(o&&(x=t==S||t||o);l!==g&&null!=(i=h[l]);l++){if(w&&i){for(a=0,t||i.ownerDocument==S||(_(i),n=!k);u=m[a++];)if(u(i,t||S,n)){r.push(i);break}o&&(P=d)}y&&((i=!u&&i)&&s--,e&&c.push(i))}if(s+=l,y&&l!==s){for(a=0;u=v[a++];)u(c,f,t,n);if(e){if(0<s)for(;l--;)c[l]||f[l]||(f[l]=V.call(r));f=xe(f)}I.apply(r,f),o&&!e&&0<f.length&&1<s+v.length&&C.uniqueSort(r)}return o&&(P=d,x=p),c}var y=0<v.length,w=0<m.length;return y?D(e):e}ve.prototype=b.filters=b.pseudos,b.setFilters=new ve,h=C.tokenize=function(e,t){var n,r,o,i,a,u,s,l=$[e+" "];if(l)return t?0:l.slice(0);for(a=e,u=[],s=b.preFilter;a;){for(i in n&&!(r=te.exec(a))||(r&&(a=a.slice(r[0].length)||a),u.push(o=[])),n=!1,(r=ne.exec(a))&&(n=r.shift(),o.push({value:n,type:r[0].replace(w," ")}),a=a.slice(n.length)),b.filter)!(r=A[i].exec(a))||s[i]&&!(r=s[i](r))||(n=r.shift(),o.push({value:n,type:i,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?C.error(e):$(e,u).slice(0)},z=C.compile=function(e,t){var n,r=[],o=[],i=J[e+" "];if(!i){for(n=(t=t||h(e)).length;n--;)((i=_e(t[n]))[E]?r:o).push(i);(i=J(e,Se(o,r))).selector=e}return i},W=C.select=function(e,t,n,r){var o,i,a,u,s,l="function"==typeof e&&e,c=!r&&h(e=l.selector||e);if(n=n||[],1===c.length){if(2<(i=c[0]=c[0].slice(0)).length&&"ID"===(a=i[0]).type&&9===t.nodeType&&k&&b.relative[i[1].type]){if(!(t=(b.find.ID(a.matches[0].replace(O,f),t)||[])[0]))return n;l&&(t=t.parentNode),e=e.slice(i.shift().value.length)}for(o=A.needsContext.test(e)?0:i.length;o--&&(a=i[o],!b.relative[u=a.type]);)if((s=b.find[u])&&(r=s(a.matches[0].replace(O,f),ce.test(i[0].type)&&me(t.parentNode)||t))){if(i.splice(o,1),e=r.length&&ye(i))break;return I.apply(n,r),n}}return(l||z(e,c))(r,t,!k,n,!t||ce.test(e)&&me(t.parentNode)||t),n},p.sortStable=E.split("").sort(G).join("")===E,p.detectDuplicates=!!l,_(),p.sortDetached=q(function(e){return 1&e.compareDocumentPosition(S.createElement("fieldset"))}),q(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||he("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),p.attributes&&q(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||he("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),q(function(e){return null==e.getAttribute("disabled")})||he(X,function(e,t,n){if(!n)return!0===e[t]?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null});var ke=n.Sizzle;C.noConflict=function(){return n.Sizzle===C&&(n.Sizzle=ke),C},L.exports?L.exports=C:n.Sizzle=C}));function Ur(e){return e&&"object"===R(e)&&1===e.nodeType}function $r(e,t){var n;return e=/^\d+%$/.test(e)?(n=parseInt(e,10)/100,Math.round(t*n)):parseInt(e,10)}function Jr(e,t,n){var t=1<arguments.length&&void 0!==t?t:0,n=2<arguments.length&&void 0!==n?n:0,e=e.getBoundingClientRect(),r=e.top,o=e.bottom,i=e.height,a=e.left,u=e.right,e=e.width;if(0!==e&&0!==i)return t=$r(t,i),i=$r(n,e),n=window.innerWidth||document.documentElement.clientWidth,e=window.innerHeight||document.documentElement.clientHeight,(0<=r&&r+t<=e||0<=o-t&&o<=e)&&(0<=a&&a+i<=n||0<=u-i&&u<=n)}o(o.S,"Date",{now:function(){return(new Date).getTime()}}),e(Zr,[{key:"_normalize",value:function(e){return{interval:(e="object"!==R(e)?{}:e).interval||0,offset:e.offset||0,offsetW:e.offsetW||0}}},{key:"_throttledDetect",value:function(e){var t=this,n=Date.now(),r=n-this._lastTimestamp;this._lastTimestamp=n,!this._ticking&&this._store.length&&r>=this.config.interval&&window.requestAnimationFrame(function(){t._detect(e),t._ticking=!1}),this._ticking=!0}},{key:"_detect",value:function(t){var n=this,e=this._store;(e=Ur(t)?this._store.filter(function(e){return e.el.isSameNode(t)}):e).forEach(function(e){Jr(e.el,n.config.offset,n.config.offsetW)&&e.callback()})}},{key:"addListener",value:function(e){var t=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(){};(e=[].concat(e)).forEach(function(e){Ur(e)&&(t._store.length||window.addEventListener("scroll",t._throttledDetect),t._store.push({el:e,callback:n}),t._throttledDetect(e))})}},{key:"removeListener",value:function(e){var n=this;(e=[].concat(e)).forEach(function(t){Ur(t)&&(n._store=n._store.filter(function(e){return!e.el.isSameNode(t)}))}),this._store.length||window.removeEventListener("scroll",this._throttledDetect)}},{key:"removeAllListeners",value:function(){this._store=[],window.removeEventListener("scroll",this._throttledDetect)}}]);var Gr=new Zr,Hr=[],Vr=!1;function Zr(e){t(this,Zr),this.config=this._normalize(e),this._store=[],this._ticking=!1,this._lastTimestamp=Date.now(),this._throttledDetect=this._throttledDetect.bind(this)}function Kr(e,t){var n=Fr(e.selector);if(0!==n.length){var r=n[0],n=e.ruleId,o=e.element,i=e.page,a=e.attribute,u={ruleId:n,element:o,page:i},s=a&&JSON.parse(a);if(s)for(var l in s){var c=r.getAttribute(l);null!==c&&(u[s[l]]=c)}Jr(r)?t(u,"viewEl"):Gr.addListener(r,function e(){Gr.removeListener(r,e),t(u,"viewEl")})}else Hr.push(e)}var Xr=[],Qr=!1;function Yr(e,t){var n=Fr(e.selector);if(0!==n.length){var r=n[0],n=e.ruleId,o=e.element,i=e.page,a=e.attribute,u={ruleId:n,element:o,page:i},s=a&&JSON.parse(a);if(s)for(var l in s){var c=r.getAttribute(l);null!==c&&(u[s[l]]=c)}t(u,"viewElDraw")}else Xr.push(e)}var eo=X(1),to=(o(o.P+o.F*!V([].map,!0),"Array",{map:function(e){return eo(this,e,arguments[1])}}),[]),no=!1;e(oo,[{key:"start",value:function(){var t,n,r=this;this.timer||(t=Date.now(),n=dr(),this.timer=setInterval(function(){var e=Date.now()-t;r.onLog({pageId:n,duration:e})},this.interval))}},{key:"stop",value:function(){this.timer&&(clearInterval(this.timer),this.timer=null)}}]);var ro=oo;function oo(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};t(this,oo),this.timer=null,this.interval=e.interval||3e3,this.onLog=e.onLog||function(){}}var io=["appname","device"],ao={viewpage:function(e,t){t({ruleId:e.ruleId,page:e.page},"viewPage")},viewelement:function(e,t){Kr(e,t),Vr||(Vr=!0,document.addEventListener("DOMNodeInserted",function(){var e=Hr.length;Hr.forEach(function(e){Kr(e,t)}),Hr.splice(0,e)}))},"viewelement-draw":function(e,t){Yr(e,t),Qr||(Qr=!0,document.addEventListener("DOMNodeInserted",function(){var e=Xr.length;Xr.forEach(function(e){Yr(e,t)}),Xr.splice(0,e)}))},actclick:function(e,f){to.push(e),no||(document.onclick=function(e){no=!0;var c=(e=e||window.event).target||e.srcElement;to.forEach(function(e){var t=Fr(e.selector),n=e.selector.split(",").map(function(e){return e+" *"}).join(","),n=Fr(n);if(-1<t.indexOf(c)||-1<n.indexOf(c)){var n=e.ruleId,r=e.element,o=e.page,e=e.attribute,i={ruleId:n,element:r,page:o},a=e&&JSON.parse(e);if(a){var u=null;if(u=-1<t.indexOf(c)?c:function e(t,n){n=n.parentNode;return n?-1<t.indexOf(n)?n:e(t,n):null}(t,c))for(var s in a){var l=u.getAttribute(s);null!==l&&(i[a[s]]=l)}}f(i,"actClick")}})})},timingpage:function(e,t){var n=e.ruleId,r=e.page,o=new ro({onLog:function(e){t({ruleId:n,page:r,page_id:e.pageId,time_duration:e.duration},"timingPage")}});o.start(),window.addEventListener("unload",function(){return o.stop()})}},uo=(e(so,[{key:"isDebug",value:function(){var e=this.globalParam.getGlobalParam().debug;return e=-1<window.location.href.indexOf("debug=1")?!0:e}},{key:"init",value:function(e){void 0!==e&&(Pr(e,io,this.isDebug())?(this.globalParam.setGlobalParam(e,this.isDebug()),this.baseParam.setBaseParam(e,this.isDebug()),this.platParam.setPlatParam(e,this.isDebug(),!0),this.isInit=!0,e.auto&&e.page&&this.getAutoConfig(e)):this.isDebug()&&console.warn("初始化必填参数不全"))}},{key:"getAutoConfig",value:function(e){e={appname:e.appname,page:e.page,platform:"web",device:e.device};this.log({getconfig:e},"getconfig")}},{key:"resolveAutoConfig",value:function(e){var n=this;e&&Array.isArray(e)&&0!==e.length&&e.forEach(function(e){var t=e.atype+e.stype;ao[t]&&ao[t](e,n.autoLog)})}},{key:"setConfig",value:function(e){this.globalParam.setGlobalParam(e,this.isDebug()),this.baseParam.setBaseParam(e,this.isDebug()),this.platParam.setPlatParam(e,this.isDebug()),this.logConfig()}},{key:"initWs",value:function(r){var o=this,i=this.isDebug();return new Promise(function(e,t){o.isWsIniting=!0,o.webWocket.initWebsocket(r,function(){n.canSocket=!0,e()},function(){n.canSocket=!1,t()},o.resolveAuto,i);var n=o})}},{key:"log",value:function(e,t){var n,r,o,i,a,u,s=this;this.isInit?I(e)?(n=this.baseParam.getBaseParam(),r=this.platParam.getPlatform(),o=this.platParam.getPlatParam(),i=this.isDebug(),a={baseParam:n,pt:r,ptInfo:o,isDebug:i},u=this.globalParam.getGlobalParam().http.url,this.isWsSupport?this.isWsInit||this.isWsIniting?this.isWsIniting?this.noSendData.push({data:e,type:t}):this.canSocket?this.webWocket.logWebsocket(Nr(a,e,t),i):qt(Nr(a,e,t,!0),u,this.resolveAuto):this.initWs(Ar(a)).then(function(){s.isWsInit=!0,s.isWsIniting=!1,s.webWocket.logWebsocket(Nr(a,e,t),i),0<s.noSendData.length&&(s.noSendData.forEach(function(e){s.webWocket.logWebsocket(Nr(a,e.data,e.type),i)}),s.noSendData=[])}).catch(function(){s.isWsInit=!0,s.isWsIniting=!1,qt(Nr(e,t,!0),u,s.resolveAuto),0<s.noSendData.length&&(s.noSendData.forEach(function(e){qt(Nr(a,e.data,e.type,!0),u,s.resolveAuto)}),s.noSendData=[])}):qt(Nr(a,e,t,!0),u,this.resolveAuto)):this.isDebug()&&console.warn("传入打点参数不是object"):this.isDebug()&&console.warn("发送具体打点之前，请先初始化")}},{key:"logConfig",value:function(){var e,t,n,r;this.isWsSupport&&this.isWsInit&&this.canSocket&&(e=this.baseParam.getBaseParam(),t=this.platParam.getPlatform(),n=this.platParam.getPlatParam(),r=this.isDebug(),this.webWocket.logWsConfig(Ar({baseParam:e,pt:t,ptInfo:n,isDebug:r}),r))}}]),so);function so(e){t(this,so),this.globalParam=new Or,this.baseParam=new kn,this.platParam=new kr,this.isWsInit=!1,this.isWsIniting=!1,this.noSendData=[],this.canSocket=!1,this.isWsSupport=!(!window.WebSocket||!window.WebSocket.prototype.send),this.webWocket=new Tt(this.globalParam.getGlobalParam()),this.resolveAuto=this.resolveAutoConfig.bind(this),this.autoLog=this.log.bind(this),this.init(e)}e(lo,[{key:"init",value:function(e){this.log.init(e)}},{key:"setConfig",value:function(e){this.log.setConfig(e)}},{key:"setLogGlobalParam",value:function(e){this.logGlobalParam=e}},{key:"logEntry",value:function(e,t){this.log.log(m(m({},this.logGlobalParam),e),t)}},{key:"logViewPage",value:function(e){this.logEntry(e,"viewPage")}},{key:"logViewEl",value:function(e){this.logEntry(e,"viewEl")}},{key:"logViewElDraw",value:function(e){this.logEntry(e,"viewElDraw")}},{key:"logActClick",value:function(e){this.logEntry(e,"actClick")}},{key:"logActVideo",value:function(e){this.logEntry(e,"actVideo")}},{key:"logActScroll",value:function(e){this.logEntry(e,"actScroll")}},{key:"logActEvent",value:function(e){this.logEntry(e,"actEvent")}},{key:"logTimingPage",value:function(e){this.logEntry(e,"timingPage")}},{key:"logTimingVideo",value:function(e){this.logEntry(e,"timingVideo")}},{key:"logTimingOthers",value:function(e){this.logEntry(e,"timingOthers")}},{key:"logEventError",value:function(e){this.logEntry(e,"eventError")}}]);var j=lo,p=new j;function lo(e){var i;t(this,lo),this.log=new uo(e),this.logGlobalParam={},void 0!==e&&!1===e.error||(i=this.logEventError.bind(this),window.onerror=function(e,t,n,r,o){i({ruleId:122,msg:encodeURIComponent(e),line:n,col:r,stack:(e="",(n=o)&&n.stack&&(e=n.stack.replace(/\n/gi,"").split(/\bat\b/).slice(0,9).join("@").replace(/\?[^:]+/gi,""),n=n.toString(),e.indexOf(n)<0&&(e=n+"@"+e)),encodeURIComponent(e))})})}L.clickstream=p,L.default=j,Object.defineProperty(L,"__esModule",{value:!0})},"object"==typeof t&&void 0!==n?o(t):"function"==typeof define&&define.amd?define(["exports"],o):o((r="undefined"!=typeof globalThis?globalThis:r||self).Clickstream={})});
;/*!wiki-common:packages/utils/clickstream.js*/
define("wiki-common:packages/utils/clickstream",function(e,d,i){"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;e=((e=e("wiki-common:node_modules/@baidu/clickstream-sdk/lib/index"))&&e.__esModule?e:{default:e}).default;d.default=e,i.exports=d.default});